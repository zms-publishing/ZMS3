<!DOCTYPE html>
<html lang="en">
<tal:block tal:content="structure python:here.zmi_html_head(here,request)">zmi_html_head</tal:block>
<body tal:attributes="class python:' '.join(['zmi',request['lang'],'design',here.meta_id])">
<tal:block tal:content="structure python:here.zmi_body_header(here,request,options=here.customize_manage_options())">zmi_body_header</tal:block>
<div id="zmi-tab">
<tal:block tal:content="structure python:here.zmi_breadcrumbs(here,request)">zmi_breadcrumbs</tal:block>

<style>
.colorMap td {
	border:1px solid #CCC;
}
</style>

<form class="form-horizontal" action="manage_customizeDesign" method="post" enctype="multipart/form-data">
	<input type="hidden" name="lang" tal:attributes="value request/lang">

	<legend tal:content="python:here.getZMILangStr('ATTR_STYLESHEET')">Stylesheet</legend>
	<tal:block tal:define="global stylesheets python:here.getStylesheets()">
	<div class="form-group">
		<label for="cssId" class="col-lg-2 control-label"><span>CSS</span></label>
		<div class="col-lg-10">
			<select style="max-width:21em;" class="form-control" name="cssId" onchange="location.href='?cssId='+this.options[this.selectedIndex].value+'&lang='+getZMILang()">
				<tal:block tal:repeat="stylesheet stylesheets">
					<option tal:attributes="value python:stylesheet.id(); selected python:['','selected'][int(request.get('cssId')==stylesheet.id())]" tal:content="python:stylesheet.id()">id</option>
				</tal:block>
			</select>
		</div><!-- .col-lg-10 -->
	</div>
	<div class="form-group" style="margin-top:1em;">
		<div class="col-lg-12">
			<div class="pull-left" style="width:10%">
				&nbsp;
				<tal:block tal:repeat="key python:here.get_colormap().keys()">
					<div tal:attributes="title key; class key" style="max-width:5em;font-size:smaller;padding:6px;overflow:hidden;border:1px solid #CCC;" tal:content="key">&nbsp;</div><!-- .pull-left -->
				</tal:block>
			</div><!-- .pull-left -->
			<div class="pull-left" style="width:90%">
					<tal:block tal:content="structure python:here.zmi_ace_editor(here,request,name='stylesheet:text',ob=(filter(lambda x: x.id()==request.get('cssId'),stylesheets)+stylesheets)[0])">
						ACE Editor
					</tal:block>
			</div><!-- .pull-left -->
			<div class="clearfix"></div><!-- .clearfix -->
		</div><!-- .col-lg-12 -->
	</div><!-- .form-group -->
	<div class="form-group col-lg-12">
		<div class="controls save">
			<button type="submit" name="btn" class="btn btn-primary" tal:attributes="value python:here.getZMILangStr('BTN_SAVE')" tal:content="python:here.getZMILangStr('BTN_SAVE')">Save</button>
		</div><!-- .col-lg-12 -->
	</div><!-- .form-group -->
	</tal:block>

	<legend tal:content="python:here.getZMILangStr('CAPTION_THEME')">Theme</legend>
	<div class="form-group">
		<label for="export_format" class="col-lg-2 control-label"><span tal:content="python:here.getZMILangStr('ATTR_EXPORT')">Export</span></label>
		<div class="col-lg-10">
			<select class="form-control" name="export_format" style="max-width:21em;margin-bottom:0.5em;">
				<option value="ZEXP">ZEXP</option>
			</select>
			<button type="submit" name="btn" class="btn btn-default" tal:attributes="value python:here.getZMILangStr('BTN_EXPORT')" tal:content="python:here.getZMILangStr('BTN_EXPORT')">Export</button>
		</div><!-- .col-lg-10 -->
	</div><!-- .form-group -->
	<div class="form-group">
		<label for="theme" class="col-lg-2 control-label"><span tal:content="python:here.getZMILangStr('ATTR_IMPORT')">Import</span></label>
		<div class="col-lg-10">
			<input class="btn btn-file" name="theme" type="file" />
			<button type="submit" name="btn" class="btn btn-default" tal:attributes="value python:here.getZMILangStr('BTN_IMPORT')" tal:content="python:here.getZMILangStr('BTN_IMPORT')">Import</button>
		</div><!-- .col-lg-10 -->
	</div><!-- .form-group -->

	<legend>Logo (ZMI)</legend>
	<div class="form-group">
		<label for="file" class="col-lg-2 control-label"><span tal:content="python:here.getZMILangStr('ATTR_FILE')">File</span></label>
		<div class="col-lg-10">
			<input class="btn btn-file" name="file" type="file" />
			<button type="submit" name="btn" class="btn btn-default" tal:attributes="value python:here.getZMILangStr('BTN_UPLOAD')" tal:content="python:here.getZMILangStr('BTN_UPLOAD')">Upload</button>
		</div><!-- .col-lg-10 -->
	</div><!-- .form-group -->

</form>

<div style="clear:both;">&nbsp;</div>
</div><!-- #zmi-tab -->
<tal:block tal:content="structure python:here.zmi_body_footer(here,request)">zmi_body_footer</tal:block>
</body>
</html>