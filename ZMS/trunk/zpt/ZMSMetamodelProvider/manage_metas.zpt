<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<tal:block tal:content="structure python:here.zmi_html_head(here,request)">zmi_html_head</tal:block>
<body tal:attributes="class python:' '.join(['zmi',request['lang'],'metas',here.meta_id])">
<tal:block tal:content="structure python:here.zmi_body_header(here,request,options=here.customize_manage_options)">zmi_body_header</tal:block>
<div id="zmi-tab">
<tal:block tal:content="structure python:here.zmi_breadcrumbs(here,request)">zmi_breadcrumbs</tal:block>

<script>
</script>

<form class="form-horizontal" action="manage_changeMetaProperties" method="post" enctype="multipart/form-data">
	<input type="hidden" name="lang" tal:attributes="value request/lang">
	<legend tal:content="python:here.getZMILangStr('TAB_METADATA')">Metadata</legend>
	<p class="well well-small" tal:content="structure python:here.getZMILangStr('MSG_METADICT')">well</p>
	<table class="table table-striped table-bordered zmi-sortable">
	<colgroup>
		<col width="1em"/>
		<col width="1em"/>
		<col/>
		<col/>
		<col/>
		<col width="1em"/>
		<col width="1em"/>
		<col width="1em"/>
	</colgroup>
	<thead>
	<tr>
		<th></th>
		<th></th>
		<th tal:content="python:here.getZMILangStr('ATTR_ID')">Id</th>
		<th tal:content="python:here.getZMILangStr('ATTR_DISPLAY')">Display</th>
		<th tal:content="python:here.getZMILangStr('ATTR_TYPE')">Type</th>
		<th align="center" tal:attributes="title python:here.getZMILangStr('ATTR_MANDATORY')" class="control-label mandatory" style="width:2em!important">(<span></span>)</th>
		<th align="center" tal:attributes="title python:here.getZMILangStr('ATTR_MULTILANG')"><img src="/misc_/zms/btn_multilang1.gif"></th>
		<th align="center" tal:attributes="title python:here.getZMILangStr('ATTR_REPETITIVE')">0..n</th>
		<th></th>
		<th></th>
	</tr>
	</thead>
	<tbody>
	<tal:block tal:define="global metadictAttrIds python:here.getMetadictAttrs()">
	<tr tal:repeat="metadictAttrId metadictAttrIds">
		<tal:block tal:define="global metadictAttr python:here.getMetadictAttr(metadictAttrId)">
		<td>
			<img class="grippy" src="/misc_/zms/spacer.gif">
			<input type="hidden" name="old_ids:list" tal:attributes="value python:metadictAttr['id']">
			<select class="zmi-sort">
				<option tal:repeat="i python:range(0,len(metadictAttrIds))" tal:attributes="selected python:['','selected'][int(i==metadictAttrIds.index(metadictAttrId))]" tal:content="python:i+1">i+1</option>
			</select>
		</td>
		<td>
		<div class="btn-group">
			<a class="btn" tal:attributes="href python:'#'; title python:here.getZMILangStr('BTN_DELETE')"><i class="icon-remove"></i></a>
		</div>
		</td>
		<td>
			<input type="text" tal:attributes="name python:'attr_id_%s'%metadictAttr['id']; value python:metadictAttr['id']">
		</td>
		<td>
			<input type="text" tal:attributes="name python:'attr_name_%s'%metadictAttr['id']; value python:metadictAttr['name']">
		</td>
		<td>
			<select tal:attributes="name python:'attr_type_%s'%metadictAttr['id']">
				<option value="">--- <tal:block tal:content="python:here.getZMILangStr('ATTR_PRIMITIVE')">Primitive</tal:block> ---</option>
				<option tal:repeat="datatype python:here.valid_datatypes" tal:attributes="value datatype; selected python:['','selected'][int(metadictAttr['type']==datatype)]" tal:content="datatype">datatype</option>
				<option value="">--- <tal:block tal:content="python:here.getZMILangStr('ATTR_OBJECTS')">Objects</tal:block> ---</option>
				<option tal:repeat="meta_type python:here.getMetaobjIds(excl_ids=['ZMS'])" tal:attributes="value meta_type; selected python:['','selected'][int(metadictAttr['type']==meta_type)]" tal:content="python:here.display_type(request,meta_type)">meta_type</option>
			</select>
		</td>
		<tal:block tal:condition="python:metadictAttr['type'] in ['method']">
			<td colspan="4"><div class="single-line"><textarea tal:attributes="name python:'attr_custom_%s'%metadictAttr['id']" tal:content="python:metadictAttr['custom']"></textarea></div></td>
		</tal:block>
		<tal:block tal:condition="not:python:metadictAttr['type'] in ['method']">
			<td align="center"><input type="checkbox" tal:attributes="name python:'attr_mandatory_%s:int'%metadictAttr['id']; checked python:['','checked'][int(metadictAttr.get('mandatory',0)==1)]" value="1"></td>
			<td align="center"><input type="checkbox" tal:attributes="name python:'attr_multilang_%s:int'%metadictAttr['id']; checked python:['','checked'][int(metadictAttr.get('multilang',0)==1)]" value="1"></td>
			<td align="center"><input type="checkbox" tal:attributes="name python:'attr_repetitive_%s:int'%metadictAttr['id']; checked python:['','checked'][int(metadictAttr.get('repetitive',0)==1)]" value="1"></td>
			<td><div class="single-line" tal:condition="python:metadictAttr['type'] in ['autocomplete','multiautocomplete','multiselect','select']"><textarea tal:attributes="name python:'attr_keys_%s'%metadictAttr['id']; title python:here.getZMILangStr('ATTR_KEYS')" tal:content="python:'\n'.join(metadictAttr['keys'])">keys</textarea></div></td>
		</tal:block>
		</tal:block>
	</tr>
	</tal:block>
	<tr>
		<td></td>
		<td><i class="icon-plus"></i></td>
		<td><input type="text" name="_id"></td>
		<td><input type="text" name="_name"></td>
		<td>
			<select name="_type">
				<option value="">--- <tal:block tal:content="python:here.getZMILangStr('ATTR_PRIMITIVE')">Primitive</tal:block> ---</option>
				<option tal:repeat="datatype python:here.valid_datatypes" tal:attributes="value datatype" tal:content="datatype">datatype</option>
				<option value="">--- <tal:block tal:content="python:here.getZMILangStr('ATTR_OBJECTS')">Objects</tal:block> ---</option>
				<option tal:repeat="meta_type python:here.getMetaobjIds(excl_ids=['ZMS'])" tal:attributes="value meta_type" tal:content="python:here.display_type(request,meta_type)">meta_type</option>
			</select>
		</td>
		<td align="center"><input type="checkbox" name="_mandatory:int" value="1"></td>
		<td align="center"><input type="checkbox" name="_multilang:int" value="1"></td>
		<td align="center"><input type="checkbox" name="_repetitive:int" value="1"></td>
		<td>
			<button name="btn" type="submit" class="btn btn-primary" tal:attributes="value python:here.getZMILangStr('BTN_INSERT')" tal:content="python:here.getZMILangStr('BTN_INSERT')">Insert</button>
		</td>
	</tr>
	</tbody>
	</table>
	<button name="btn" type="submit" class="btn btn-primary" tal:attributes="value python:here.getZMILangStr('BTN_SAVE')" tal:content="python:here.getZMILangStr('BTN_SAVE')">Save</button>
	&nbsp;
	<button name="btn" type="submit" class="btn" tal:attributes="value python:here.getZMILangStr('BTN_IMPORT')+'...'" tal:content="python:here.getZMILangStr('BTN_IMPORT')+'...'" onclick="$('#importLangDict').dialog({modal:true,title:$(this).text(),height:'auto',width:'auto'});return false;">Import...</button>
</form>

<div style="clear:both;">&nbsp;</div>
</div><!-- #zmi-tab -->
<tal:block tal:content="structure python:here.zmi_body_footer(here,request)">zmi_body_footer</tal:block>
</body>
</html>