<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<tal:block tal:content="structure python:here.zmi_html_head(here,request)">zmi_html_head</tal:block>
<body tal:attributes="class python:' '.join(['zmi',request['lang'],'metas',here.meta_id])">
<tal:block tal:content="structure python:here.zmi_body_header(here,request,options=here.customize_manage_options)">zmi_body_header</tal:block>
<div id="zmi-tab">
<tal:block tal:content="structure python:here.zmi_breadcrumbs(here,request)">zmi_breadcrumbs</tal:block>

<script>
</script>

<tal:block tal:define="global
		metaCmdIds python:here.getMetaCmdIds()">

<form class="form-horizontal" action="manage_changeMetacmds" method="post" enctype="multipart/form-data">
	<input type="hidden" name="lang" tal:attributes="value request/lang">
	<legend tal:content="python:here.getZMILangStr('TAB_METACMD')">Metacmd</legend>
	<p class="well well-small" tal:content="structure python:here.getZMILangStr('MSG_METACMD')">well</p>

<tal:block tal:condition="python:request.get('id','') in metaCmdIds">
<tal:block tal:define="global metaCmd python:here.getMetaCmd(request['id'])">
	<div class="control-group">
		<label for="el_id" class="control-label mandatory"><span tal:content="python:here.getZMILangStr('ATTR_ID')">Id</span></label>
		<div class="controls"><input type="text" name="el_id" tal:attributes="value python:metaCmd['id']"/></div><!-- .controls -->
	</div><!-- .control-group -->
	<div class="control-group">
		<label for="el_name" class="control-label mandatory"><span tal:content="python:here.getZMILangStr('ATTR_NAME')">Name</span></label>
		<div class="controls"><input type="text" name="el_name" tal:attributes="value python:metaCmd['name']"/></div><!-- .controls -->
	</div><!-- .control-group -->
	<div class="control-group">
		<label for="el_description" class="control-label"><span tal:content="python:here.getZMILangStr('ATTR_DC_DESCRIPTION')">Description</span></label>
		<div class="controls"><input type="text" name="el_description" tal:attributes="value python:metaCmd['description']"/></div><!-- .controls -->
	</div><!-- .control-group -->
	<div class="control-group">
		<div class="controls">
			<button type="submit" name="btn" class="btn btn-primary" tal:attributes="value python:here.getZMILangStr('BTN_SAVE')" tal:content="python:here.getZMILangStr('BTN_SAVE')">Save</button>
			<button type="submit" name="btn" class="btn" tal:attributes="value python:here.getZMILangStr('BTN_DELETE')" tal:content="python:here.getZMILangStr('BTN_DELETE')">Delete</button>
			&nbsp;&nbsp;
			<button type="submit" name="btn" class="btn" tal:attributes="value python:here.getZMILangStr('BTN_BACK')" tal:content="python:here.getZMILangStr('BTN_BACK')">Back</button>
		</div><!-- .controls -->
	</div><!-- .control-group -->
</tal:block>
</tal:block>

<tal:block tal:condition="python:request.get('id','') not in metaCmdIds">
	<table class="table table-striped table-bordered table-hover">
	<colgroup>
		<col width="50"/>
	</colgroup>
	<thead>
		<tr>
			<th></th>
			<th tal:content="python:here.getZMILangStr('ATTR_ID')">Id</th>
			<th tal:content="python:here.getZMILangStr('ATTR_SIZE')">Id</th>
			<th tal:content="python:here.getZMILangStr('ATTR_LAST_MODIFIED')">Id</th>
		</tr>
	</thead>
	<tbody>
	<tal:block tal:repeat="metaCmdId metaCmdIds">
		<tr tal:define="global metaCmd python:here.getMetaCmd(metaCmdId); ob python:getattr(here,metaCmdId)">
			<td>
				<div class="btn-group">
					<a class="btn" tal:attributes="href python:'?lang=%s&id=%s'%(request['lang'],metaCmd['id']); title python:here.getZMILangStr('BTN_EDIT')+'...'"><i class="icon-edit"></i></a>
					<a class="btn" tal:attributes="href python:'#'; title python:here.getZMILangStr('BTN_DELETE')+'...'"><i class="icon-remove"></i></a>
				</div>
			</td>
			<td>
				<img tal:attributes="src python:ob.icon; title python:ob.meta_type"/>
				<strong tal:content="python:metaCmd['id']">Id</strong>
				(<tal:block tal:content="python:metaCmd['name']">Name</tal:block>)
			</td>
			<td>
				<tal:block tal:content="python:here.getDataSizeStr(ob.get_size())">Size</tal:block>
			</td>
			<td>
				<tal:block tal:content="python:here.getLangFmtDate(ob.bobobase_modification_time().timeTime())">Modification-Time</tal:block>
			</td>
		</tr>
	</tal:block>
	</tbody>
	</table>
	<button name="btn" type="submit" class="btn" tal:attributes="value python:here.getZMILangStr('BTN_INSERT')+'...'" tal:content="python:here.getZMILangStr('BTN_INSERT')+'...'" onclick="$('#insert').dialog({modal:true,title:$(this).text(),height:'auto',width:'auto'});return false;">Insert...</button>
	<button name="btn" type="submit" class="btn" tal:attributes="value python:here.getZMILangStr('BTN_IMPORT')+'...'" tal:content="python:here.getZMILangStr('BTN_IMPORT')+'...'" onclick="$('#import').dialog({modal:true,title:$(this).text(),height:'auto',width:'auto'});return false;">Import...</button>
</tal:block>

</form>

<div id="insert" class="ui-helper-hidden">
<form class="form-horizontal" action="manage_changeMetacmds" method="post" enctype="multipart/form-data">
	<input type="hidden" name="lang" tal:attributes="value request/lang">
	<div class="control-group">
		<label class="control-label mandatory" for="_id" tal:content="python:here.getZMILangStr('ATTR_ID')">Id</label>
		<div class="controls">
			<input type="text" name="_id">
		</div><!-- .controls -->
	</div><!-- .control-group -->
	<div class="control-group">
		<label class="control-label mandatory" for="_name" tal:content="python:here.getZMILangStr('ATTR_DISPLAY')">Display</label>
		<div class="controls">
			<input type="text" name="_name">
		</div><!-- .controls -->
	</div><!-- .control-group -->
	<div class="control-group">
		<label class="control-label mandatory" for="_type" tal:content="python:here.getZMILangStr('ATTR_TYPE')">Type</label>
		<div class="controls">
			<select name="_type">
				<option value="Script (Python)">Script (Python)</option>
				<option value="Page Template">Page Template</option>
				<option value="DTML Method">DTML Method (@deprecated)</option>
				<option value="DTML Document">DTML Document (@deprecated)</option>
			</select>
		</div><!-- .controls -->
	</div><!-- .control-group -->
	<div class="control-group">
		<label class="control-label mandatory" for="_exec">Exec.</label>
		<div class="controls">
			<input type="checkbox" name="_exec:int" value="1" checked="checked">
		</div><!-- .controls -->
	</div><!-- .control-group -->
	<div class="control-group">
		<div class="controls">
				<button name="btn" type="submit" class="btn btn-primary" tal:attributes="value python:here.getZMILangStr('BTN_INSERT')" tal:content="python:here.getZMILangStr('BTN_INSERT')">Insert</button>
				<button name="btn" type="submit" class="btn" tal:attributes="value python:here.getZMILangStr('BTN_CLOSE')" tal:content="python:here.getZMILangStr('BTN_CLOSE')" onclick="$('#insert').dialog('close');return false;">Close</button>
		</div>
	</div>
</form>
</div><!-- #insert -->

<div id="import" class="ui-helper-hidden">
<form class="form-horizontal" action="manage_changeMetacmds" method="post" enctype="multipart/form-data">
	<input type="hidden" name="lang" tal:attributes="value request/lang">
	<div class="control-group">
		<label class="control-label" for="file"><i class="icon-folder-open"></i> <tal:block tal:content="python:here.getZMILangStr('ATTR_FILE')">File</tal:block></label>
		<div class="controls">
			<input name="file" type="file">
		</div><!-- .controls -->
	</div><!-- .control-group -->
	<div class="control-group">
		<label class="control-label" for="file" tal:content="python:here.getZMILangStr('OR')">or</label>
		<div class="controls">
			<select id="init" name="init" onfocus="zmiExpandConfFiles(this,'.metacmd.')" onmouseover="zmiExpandConfFiles(this,'.metacmd.')">
				<option value="">--- <tal:block tal:content="python:here.getZMILangStr('BTN_INIT')">Init</tal:block>... ---</option>
			</select>
		</div><!-- .controls -->
	</div><!-- .control-group -->
	<div class="control-group">
		<div class="controls">
				<button name="btn" type="submit" class="btn btn-primary" tal:attributes="value python:here.getZMILangStr('BTN_IMPORT')" tal:content="python:here.getZMILangStr('BTN_IMPORT')">Import</button>
				<button name="btn" type="submit" class="btn" tal:attributes="value python:here.getZMILangStr('BTN_CLOSE')" tal:content="python:here.getZMILangStr('BTN_CLOSE')" onclick="$('#import').dialog('close');return false;">Close</button>
		</div>
	</div>
</form>
</div><!-- #import -->

</tal:block>

<div style="clear:both;">&nbsp;</div>
</div><!-- #zmi-tab -->
<tal:block tal:content="structure python:here.zmi_body_footer(here,request)">zmi_body_footer</tal:block>
</body>
</html>