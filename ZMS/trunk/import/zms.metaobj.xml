<?xml version="1.0" encoding="utf-8"?>

<list>
  <item type="dictionary">
    <dictionary>
      <item key="key"><![CDATA[ZMS]]></item>
      <item key="value" type="dictionary">
        <dictionary>
          <item key="__obj_attrs__" type="list">
            <list>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zms.gif" type="file">47494638396110001000b300008b5826dca7277484b0eec93ad4cbb9f7dc55d4b274ececdcfc02fc666d99e6bc3d8499c4e6f7fc7079a2f3cf47dfb12c21f90401000008002c000000001000100003046010c98908a19812a56ed64e5138deb78962672a28aa6a4ae8c4f25b3d4eae1c07ed3c17c263e0183c0e0cc6615804120203450099544207818b2130ad560f5cc384b0a80200d54449524e9ed39936e39d4cc4cde87a5cc06f341280761f831311003b</data>
                  </item>
                  <item key="id"><![CDATA[icon]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zms_disabled.gif" type="file">47494638396110001000b30000fc02fc848684c4c6c4acaaaceceaec646264b4b6b4d4d6d47c7a7c9496946c6e6cb4b2b4f4f2f4cccaccbcbabc00000021f90401000000002c000000001000100003045f10c8095aa39836e76ed6c271589fb48962f79d68ea4d5b333a821cc34bdd1804d1d58b4b6350130c080c068128305a8886a332b96c0e2e8b8134c95d0e16b004b750e02a5e1271928c6428326a02d90c1f97936f4c22c04720148079258311003b</data>
                  </item>
                  <item key="id"><![CDATA[icon_disabled]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon (Disabled)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[titlealt]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Title.Alt]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[titlealt]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[title]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Title]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[title]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[titleimage]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Titleimage]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[image]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[levelnfc]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[0]]></item>
                      <item><![CDATA[1]]></item>
                      <item><![CDATA[2]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Level]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[select]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_cacheable]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[0]]></item>
                      <item><![CDATA[1]]></item>
                      <item><![CDATA[2]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Cacheable]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[select]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[TAB_METADATA]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[TAB_METADATA]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[delimiter]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_dc_description]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Description]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[attr_dc_description]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_dc_subject]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Subject]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[attr_dc_subject]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_dc_type]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Type]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[attr_dc_type]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_dc_creator]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Creator]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[attr_dc_creator]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[e]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[ZMSTeaserContainer]]></item>
                      <item><![CDATA[type(ZMSDocument)]]></item>
                      <item><![CDATA[type(ZMSObject)]]></item>
                      <item><![CDATA[type(ZMSRecordSet)]]></item>
                      <item><![CDATA[type(ZMSReference)]]></item>
                      <item><![CDATA[type(ZMSModule)]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Objects]]></item>
                  <item key="repetitive" type="int">1</item>
                  <item key="type"><![CDATA[*]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[<!-- bodyContentZMSCustom_ZMS -->

	<span tal:omit-tag="" tal:define="global 
		zmscontext options/zmscontext">
	<span tal:omit-tag="" tal:content="structure python:zmscontext.bodyContentZMSLib_page(zmscontext,request)">The page-content</span>
</span>

<!-- /bodyContentZMSCustom_ZMS -->]]>
                  </item>
                  <item key="id"><![CDATA[bodyContentZMSCustom_ZMS]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Template: ZMS]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[zpt]]></item>
                  <item key="zpt"><![CDATA[<ZopePageTemplate at ZMS.bodyContentZMSCustom_ZMS>]]></item>
                </dictionary>
              </item>
            </list>
          </item>
          <item key="access" type="dictionary">
            <dictionary>
              <item key="delete" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="delete_custom"></item>
              <item key="edit" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="edit_custom"></item>
              <item key="insert" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="insert_custom"><![CDATA[{$}]]></item>
            </dictionary>
          </item>
          <item key="enabled" type="int">0</item>
          <item key="id"><![CDATA[ZMS]]></item>
          <item key="name"><![CDATA[ZMS]]></item>
          <item key="package"><![CDATA[com.zms.foundation]]></item>
          <item key="revision"><![CDATA[1.2.0]]></item>
          <item key="type"><![CDATA[ZMSDocument]]></item>
        </dictionary>
      </item>
    </dictionary>
  </item>
  <item type="dictionary">
    <dictionary>
      <item key="key"><![CDATA[ZMSDocument]]></item>
      <item key="value" type="dictionary">
        <dictionary>
          <item key="__obj_attrs__" type="list">
            <list>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmsdocument_16x16.gif" type="file">47494638396110001000b30000fc02fc8787aeb7c7e4d6ebfcb5d8faa0a6c4c6e1fbf7fbfcb8dffc547ab484baec8f98b9afb9d17496d4acd0fc7573a521f90401000000002c00000000100010000304691008c158592bbc02ba6747281e8db0781d3886cda024a8bab606f378c53a904d7f77391d6128f80116bac36060301891a2e5d2c03406a24aa981605566a74daee7faa51a100871e7aa1da0d36a40403a4513100ee343d97c0f1d791e0f744c6f697a0f898a8b891d11003b</data>
                  </item>
                  <item key="id"><![CDATA[icon]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmsdocument_disabled_16x16.gif" type="file">47494638396110001000b30000fc02fc8c8a8cc4c6c4e4e6e4a4a6a4d4d2d47476749c9a9cbcbabcfcfafc949294acaeacdcdadccccacc7c7a7cd4d6d421f90401000000002c000000001000100003046e1008b110512a3802ba47492826817078dd220ea2322c060a8ea1fb207147d02c86399e1daf4014003b0a5e623060308e80c388c964347380c06a496514a05a16b5e92c60b5dc66f3f1f87ac2d501bb6d7e8fd7ed4703ea583a1f0c740d461e0e7781736e1d0e0e068c8e8d8f4711003b</data>
                  </item>
                  <item key="id"><![CDATA[icon_disabled]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon (Disabled)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[titlealt]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Title.Alt]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[titlealt]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[title]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Title]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[title]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[titleimage]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Titleimage]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[image]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[levelnfc]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[0]]></item>
                      <item><![CDATA[1]]></item>
                      <item><![CDATA[2]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Level]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[select]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_cacheable]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[0]]></item>
                      <item><![CDATA[1]]></item>
                      <item><![CDATA[2]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Cacheable]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[select]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[TAB_METADATA]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[TAB_METADATA]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[delimiter]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_dc_description]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Description]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[attr_dc_description]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_dc_subject]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Subject]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[attr_dc_subject]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_dc_type]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Type]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[attr_dc_type]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_dc_creator]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Creator]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[attr_dc_creator]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[e]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[ZMSTeaserContainer]]></item>
                      <item><![CDATA[type(ZMSObject)]]></item>
                      <item><![CDATA[type(ZMSRecordSet)]]></item>
                      <item><![CDATA[type(ZMSModule)]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Objects]]></item>
                  <item key="repetitive" type="int">1</item>
                  <item key="type"><![CDATA[*]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[<!-- bodyContentZMSCustom_ZMSDocument -->

	<span tal:omit-tag="" tal:define="global 
		zmscontext options/zmscontext">
	<span tal:omit-tag="" tal:content="structure python:zmscontext.bodyContentZMSLib_page(zmscontext,request)">The page-content</span>
</span>

<!-- /bodyContentZMSCustom_ZMSDocument -->]]>
                  </item>
                  <item key="id"><![CDATA[bodyContentZMSCustom_ZMSDocument]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Template: ZMSDocument]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[zpt]]></item>
                  <item key="zpt"><![CDATA[<ZopePageTemplate at ZMSDocument.bodyContentZMSCustom_ZMSDocument>]]></item>
                </dictionary>
              </item>
            </list>
          </item>
          <item key="access" type="dictionary">
            <dictionary>
              <item key="delete" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="delete_custom"></item>
              <item key="edit" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="edit_custom"></item>
              <item key="insert" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="insert_custom"><![CDATA[{$}]]></item>
            </dictionary>
          </item>
          <item key="enabled" type="int">1</item>
          <item key="id"><![CDATA[ZMSDocument]]></item>
          <item key="name"><![CDATA[ZMSDocument]]></item>
          <item key="package"><![CDATA[com.zms.foundation]]></item>
          <item key="revision"><![CDATA[1.2.0]]></item>
          <item key="type"><![CDATA[ZMSDocument]]></item>
        </dictionary>
      </item>
    </dictionary>
  </item>
  <item type="dictionary">
    <dictionary>
      <item key="key"><![CDATA[ZMSFile]]></item>
      <item key="value" type="dictionary">
        <dictionary>
          <item key="__obj_attrs__" type="list">
            <list>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmsfile_16x16.gif" type="file">47494638396110001000b300000402847784b4b5d5fc86a8dad2e8fa626897f9fcfc54a6ec727aa6fc02fcb4b2fc8498c8c8e0f88cb0e094bdefe7eff521f90401000009002c000000001000100003046f30b9d186bd23a4bd9df9e0f330c8c049606a30c1b170cd07cc341920b09cce8aa26d03dd87200028489ca0016010110846e4662173321851dcb4097810ae4585409b0888008caf203ce6981fb4b8b8e076f6ee3d017d836078af0c6b827b097d8081826b84088c8d8e8c8427929311003b</data>
                  </item>
                  <item key="id"><![CDATA[icon]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmsfile_disabled_16x16.gif" type="file">47494638396110001000b30000fc02fc848284cccecceceaec646664a4a6a4dcdedc7472749c9a9cfcfafcb4b6b48c8e8cd4d6d47c7a7c6c6a6ce4e2e421f90401000000002c000000001000100003047210a8420baa2580bd55fae0303041c149609a180d8270c5875d4660c37248298ab6c509444850503c1a1c6122267a3c8aaca4acf930148fd24161e0641015820367212a181ede2f43bc216b31bb3027c07df0ee3c8163eeaca20580807b1b0d068606698102041c0d8e8f908e832794950011003b</data>
                  </item>
                  <item key="id"><![CDATA[icon_disabled]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon (Disabled)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[titlealt]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Title.Alt]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[titlealt]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[title]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Title]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[title]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[file]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[File]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[file]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[align]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[LEFT]]></item>
                      <item><![CDATA[LEFT_FLOAT]]></item>
                      <item><![CDATA[RIGHT]]></item>
                      <item><![CDATA[RIGHT_FLOAT]]></item>
                      <item><![CDATA[NONE]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Align]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[select]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[interface0]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[<script type="text/javascript">

function elFileChange(el) {
	var filename = $(el).val();
	var i = Math.max(filename.lastIndexOf('/'),filename.lastIndexOf('\\'));
	if ( i > 0) {
		filename = filename.substring(i+1);
	}
	var title = $("#title_"+getZMILang());
	if ( title.val().length == 0) {
		title.val(filename);
	}
	var titlealt = $("#titlealt_"+getZMILang());
	if ( titlealt.val().length == 0) {
		titlealt.val(filename);
	}
}

$(function() {
	$("#file_"+getZMILang()).change( function() { elFileChange(this); } );
});

</script>]]>
                  </item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[interface]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[TAB_METADATA]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[TAB_METADATA]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[delimiter]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_dc_description]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Description]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[text]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[## Script (Python) "ZMSFile.attr_img_src"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=zmscontext
##title=py: Alias: Teaser.Image
##
# --// BO attr_img_src //--

file = zmscontext.attr('file')
return file.getMimeTypeIconSrc()

# --// EO attr_img_src //--
]]>
                  </item>
                  <item key="id"><![CDATA[attr_img_src]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Alias: Teaser.Image]]></item>
                  <item key="py"><![CDATA[<PythonScript at ZMSFile.attr_img_src>]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[py]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[## Script (Python) "ZMSFile.attr_url"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=zmscontext
##title=py: Alias: Teaser.Url
##
# --// BO attr_url //--

file = zmscontext.attr('file')
return file.getHref(zmscontext.REQUEST)

# --// EO attr_url //--
]]>
                  </item>
                  <item key="id"><![CDATA[attr_url]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Alias: Teaser.Url]]></item>
                  <item key="py"><![CDATA[<PythonScript at ZMSFile.attr_url>]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[py]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[## Script (Python) "ZMSFile.attr_abstract"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=zmscontext
##title=py: Alias: Teaser.Abstract
##
# --// BO attr_abstract //--
#
return zmscontext.attr('attr_dc_description')

# --// EO attr_abstract //--
]]>
                  </item>
                  <item key="id"><![CDATA[attr_abstract]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Alias: Teaser.Abstract]]></item>
                  <item key="py"><![CDATA[<PythonScript at ZMSFile.attr_abstract>]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[py]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[## Script (Python) "ZMSFile.getHref2IndexHtml"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=zmscontext
##title=py: Function: index_html
##
# --// BO getHref2IndexHtml //--

file = zmscontext.attr('file')
if file:
    return file.getHref(zmscontext.REQUEST)
return ''

# --// EO getHref2IndexHtml //--
]]>
                  </item>
                  <item key="id"><![CDATA[getHref2IndexHtml]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Function: index_html]]></item>
                  <item key="py"><![CDATA[<PythonScript at ZMSFile.getHref2IndexHtml>]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[py]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[<!-- bodyContentZMSCustom_ZMSFile -->

<span tal:omit-tag="" tal:define="Std modules/Products.PythonScripts/standard; newline_to_br nocall:Std/newline_to_br; global 
		zmscontext options/zmscontext;
		subclass      python:[zmscontext.meta_id];
		title         python:zmscontext.attr('title');
		titlealt      python:zmscontext.attr('titlealt');
		file          python:zmscontext.attr('file');
		align         python:zmscontext.attr('align');
		displaytype   python:zmscontext.attr('displaytype');
		abstract      python:zmscontext.attr('attr_abstract')">
	<span tal:omit-tag="" tal:condition="python:align not in ['','NONE'] or request.get('URL','').find('/manage')>0">
		<span tal:omit-tag="" tal:condition="python:align in [ '', 'NONE']">
			<span tal:omit-tag="" tal:define="global subclass python:subclass+['none']"></span>
		</span>
		<span tal:omit-tag="" tal:condition="python:align in [ 'LEFT', 'CENTER', 'RIGHT']">
			<span tal:omit-tag="" tal:define="global subclass python:subclass+[align.lower()]"></span>
		</span>
		<span tal:omit-tag="" tal:condition="python:align in [ 'LEFT_FLOAT'] and displaytype in [ 'top', 'bottom']">
			<span tal:omit-tag="" tal:define="global subclass python:subclass+['floatleft']"></span>
		</span>
		<span tal:omit-tag="" tal:condition="python:align in [ 'RIGHT_FLOAT'] and displaytype in [ 'top', 'bottom']">
			<span tal:omit-tag="" tal:define="global subclass python:subclass+['floatright']"></span>
		</span>
		<div tal:attributes="id python:zmscontext.id; class python:' '.join(subclass)">
			<span tal:omit-tag="" tal:condition="python:file">
				<div class="title">
					<img tal:attributes="src python:file.getMimeTypeIconSrc(); title python:'%s (%s)'%(file.getContentType(),file.getDataSizeStr())" border="0" alt="Icon" align="absmiddle"/>
					<a tal:attributes="href python:file.getHref(request)" tal:content="structure python:titlealt" target="_blank">The titlealt</a>
					(<span tal:content="python:file.getDataSizeStr()">The data-size string</span>)
				</div>
				<div tal:condition="python:title" tal:content="structure title" class="text">The title</div>
				<div tal:condition="python:abstract" tal:content="structure python:newline_to_br(abstract)" class="description">The abstract</div>
			</span>
			<span tal:omit-tag="" tal:condition="python:not (file)" tal:content="python:zmscontext.getZMILangStr('ATTR_NONE')">
				None
			</span>
		</div>
	</span>
</span>

<!-- /bodyContentZMSCustom_ZMSFile -->]]>
                  </item>
                  <item key="id"><![CDATA[bodyContentZMSCustom_ZMSFile]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Template: ZMSFile]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[zpt]]></item>
                  <item key="zpt"><![CDATA[<ZopePageTemplate at ZMSFile.bodyContentZMSCustom_ZMSFile>]]></item>
                </dictionary>
              </item>
            </list>
          </item>
          <item key="access" type="dictionary">
            <dictionary>
              <item key="delete" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="delete_custom"></item>
              <item key="edit" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="edit_custom"></item>
              <item key="insert" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="insert_custom"><![CDATA[{$}]]></item>
            </dictionary>
          </item>
          <item key="enabled" type="int">1</item>
          <item key="id"><![CDATA[ZMSFile]]></item>
          <item key="name"><![CDATA[ZMSFile]]></item>
          <item key="package"><![CDATA[com.zms.foundation]]></item>
          <item key="revision"><![CDATA[1.1.0]]></item>
          <item key="type"><![CDATA[ZMSObject]]></item>
        </dictionary>
      </item>
    </dictionary>
  </item>
  <item type="dictionary">
    <dictionary>
      <item key="key"><![CDATA[ZMSFolder]]></item>
      <item key="value" type="dictionary">
        <dictionary>
          <item key="__obj_attrs__" type="list">
            <list>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmsfolder.gif" type="file">47494638396110001000b30000745e3cb4821cfcfba5efcc65fce973fcfee3d6aa3afcf58afcfec0fc02fc9088608c7e54cc9e34fcda61fcfef7e3b94321f90401000009002c000000001000100003045f30c9496b5a2feb65e57320283c4af7208820a484e66269aaaa61980d78aeeb1952fcc020f061101c8ec8e471f410109ed0e8f3403c48af8483c1406878bf602f61db1d7ccd5e3481c120ecde8371bbd1add3ef5d0620c0effbfd001d820911003b</data>
                  </item>
                  <item key="id"><![CDATA[icon]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmsfolder_disabled.gif" type="file">47494638396110001000b30000fc02fc848684cccacceceaecf4f6f4a4a2a4646264e4e2e4fcfefc7c7e7cbcbabcd4d6d4f4f2f4acaaacfcfafc00000021f90401000000002c000000001000100003046110c8492b482aeb64a5420811124dd02904c130eaa1bd98aaaecc008a6026ecc2b2fb3d5e26354a198f8a466dc06c3a078ccce040ad5aa983e4f4ca3d340a8785784c167b1be19e58ed3317c0bcb8dc0b5e84eff67cb86008f8ff8080061d840011003b</data>
                  </item>
                  <item key="id"><![CDATA[icon_disabled]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon (Disabled)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[titlealt]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Title.Alt]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[titlealt]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[title]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Title]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[title]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[titleimage]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Titleimage]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[image]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[levelnfc]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[0]]></item>
                      <item><![CDATA[1]]></item>
                      <item><![CDATA[2]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Level]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[select]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_cacheable]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[0]]></item>
                      <item><![CDATA[1]]></item>
                      <item><![CDATA[2]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Cacheable]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[select]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[TAB_METADATA]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[TAB_METADATA]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[delimiter]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_dc_description]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Description]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[attr_dc_description]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_dc_subject]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Subject]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[attr_dc_subject]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_dc_type]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Type]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[attr_dc_type]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_dc_creator]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Creator]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[attr_dc_creator]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[e]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[ZMSTeaserContainer]]></item>
                      <item><![CDATA[type(ZMSDocument)]]></item>
                      <item><![CDATA[type(ZMSObject)]]></item>
                      <item><![CDATA[type(ZMSRecordSet)]]></item>
                      <item><![CDATA[type(ZMSModule)]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Objects]]></item>
                  <item key="repetitive" type="int">1</item>
                  <item key="type"><![CDATA[*]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[<!-- bodyContentZMSCustom_ZMSFolder -->

	<span tal:omit-tag="" tal:define="global 
		zmscontext options/zmscontext">
	<span tal:omit-tag="" tal:content="structure python:zmscontext.bodyContentZMSLib_page(zmscontext,request)">The page-content</span>
</span>

<!-- /bodyContentZMSCustom_ZMSFolder -->]]>
                  </item>
                  <item key="id"><![CDATA[bodyContentZMSCustom_ZMSFolder]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Template: ZMSFolder]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[zpt]]></item>
                  <item key="zpt"><![CDATA[<ZopePageTemplate at ZMSFolder.bodyContentZMSCustom_ZMSFolder>]]></item>
                </dictionary>
              </item>
            </list>
          </item>
          <item key="access" type="dictionary">
            <dictionary>
              <item key="delete" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="delete_custom"></item>
              <item key="edit" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="edit_custom"></item>
              <item key="insert" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="insert_custom"><![CDATA[{$}]]></item>
            </dictionary>
          </item>
          <item key="enabled" type="int">1</item>
          <item key="id"><![CDATA[ZMSFolder]]></item>
          <item key="name"><![CDATA[ZMSFolder]]></item>
          <item key="package"><![CDATA[com.zms.foundation]]></item>
          <item key="revision"><![CDATA[1.2.0]]></item>
          <item key="type"><![CDATA[ZMSDocument]]></item>
        </dictionary>
      </item>
    </dictionary>
  </item>
  <item type="dictionary">
    <dictionary>
      <item key="key"><![CDATA[ZMSGraphic]]></item>
      <item key="value" type="dictionary">
        <dictionary>
          <item key="__obj_attrs__" type="list">
            <list>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmsgraphic.gif" type="file">47494638396110001000b30000fa3605eacc1f7987b7bcc284d7d2d1edf5fa3ca7ecfc02fcb6d8fa574f9cc47a7ca4e45c6cfa346876a80598fb8baddf21f90401000007002c0000000010001000030464f0a0476b1527e757baef84f068d2f7218d316ea6870842a37105602b4837616c6d270e072227ebfd8241e2acf36b201f288d00f44026a399a98bc1701886c583b6b3089887587181b0369b07604da390aba38709399d7e47871b80818280792486871911003b</data>
                  </item>
                  <item key="id"><![CDATA[icon]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmsgraphic_disabled.gif" type="file">47494638396110001000b30000fc02fc848284c4c2c4545254eceaec6c6a6ca4a6a4d4d2d47476749c9a9cbcbabc646664fcfafcccceccdcdedc7c7a7c21f90401000000002c00000000100010000304791028436b0d2067c5ba278413189ae49d8cf3248966a09e1860d9cb147872808e4203b64561b1402004a18726d1c10d8ac6836ad9113e8d08c5419961321a0de3c328082f79048142814880119a000874502b040773461e7208fe6a6005710e3c0e7960821a0f0e8d8779900d0b8b0f9596970f93259b9c1911003b</data>
                  </item>
                  <item key="id"><![CDATA[icon_disabled]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon (Disabled)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="default"><![CDATA[2]]></item>
                  <item key="id"><![CDATA[displaytype]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Display-Type]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[int]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[img]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Image]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[image]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[imghires]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Image (Hires)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[image]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[imgsuperres]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Image (Superres)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[image]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="default"><![CDATA[alt=""]]></item>
                  <item key="id"><![CDATA[img_attrs_spec]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Image (Special-Attributes)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[string]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_url]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Image (URL)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[url]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[align]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[LEFT]]></item>
                      <item><![CDATA[LEFT_FLOAT]]></item>
                      <item><![CDATA[RIGHT]]></item>
                      <item><![CDATA[RIGHT_FLOAT]]></item>
                      <item><![CDATA[CENTER]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Align]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[select]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[text]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Text]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[richtext]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="default"><![CDATA[<dtml-return "getTextFormatDefault()">]]></item>
                  <item key="id"><![CDATA[format]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Format]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[string]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[textalign]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[LEFT]]></item>
                      <item><![CDATA[RIGHT]]></item>
                      <item><![CDATA[CENTER]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Text-Align]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[select]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[<!-- bodyContentZMSCustom_ZMSGraphic -->

<span tal:omit-tag="" tal:define="global 
		zmscontext options/zmscontext;
		subclass      python:[zmscontext.meta_id];
		text          python:unicode(zmscontext.getText(request),'utf-8');
		format        python:unicode(zmscontext.attr('format'),'utf-8');
		renderedtext  python:zmscontext.renderText(format,'text',text,request);
		textclass     python:'text';
		displaytype   python:zmscontext.dctDisplaytype.get(str(zmscontext.attr('displaytype')),'left');
		align         python:zmscontext.attr('align');
		textalign     python:zmscontext.attr('textalign');
		imgclass      python:'img';
		imgurl        python:zmscontext.getLinkUrl(zmscontext.attr('attr_url'),request);
		imgthumb      python:request['URL'].find('/manage')>0;
		imgspecial    python:zmscontext.attr('img_attrs_spec');
		bodyContent   python:zmscontext.renderDisplaytype(displaytype,'img','imghires',imgurl,imgthumb,imgspecial,imgclass,renderedtext,textalign,textclass,request)">
	<span tal:omit-tag="" tal:condition="python:align in [ 'LEFT', 'CENTER', 'RIGHT']">
		<span tal:omit-tag="" tal:define="global subclass python:subclass+[align.lower()]"></span>
	</span>
	<span tal:omit-tag="" tal:condition="python:align in [ 'LEFT_FLOAT'] and displaytype in [ 'top', 'bottom']">
		<span tal:omit-tag="" tal:define="global subclass python:subclass+['floatleft']"></span>
	</span>
	<span tal:omit-tag="" tal:condition="python:align in [ 'RIGHT_FLOAT'] and displaytype in [ 'top', 'bottom']">
		<span tal:omit-tag="" tal:define="global subclass python:subclass+['floatright']"></span>
	</span>
	<div tal:attributes="id python:zmscontext.id; class python:' '.join(subclass)" tal:content="structure bodyContent">The graphic</div>
</span>

<!-- /bodyContentZMSCustom_ZMSGraphic -->]]>
                  </item>
                  <item key="id"><![CDATA[bodyContentZMSCustom_ZMSGraphic]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Template: ZMSGraphic]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[zpt]]></item>
                  <item key="zpt"><![CDATA[<ZopePageTemplate at ZMSGraphic.bodyContentZMSCustom_ZMSGraphic>]]></item>
                </dictionary>
              </item>
            </list>
          </item>
          <item key="access" type="dictionary">
            <dictionary>
              <item key="delete" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="delete_custom"></item>
              <item key="edit" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="edit_custom"></item>
              <item key="insert" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="insert_custom"><![CDATA[{$}]]></item>
            </dictionary>
          </item>
          <item key="enabled" type="int">1</item>
          <item key="id"><![CDATA[ZMSGraphic]]></item>
          <item key="name"><![CDATA[ZMSGraphic]]></item>
          <item key="package"><![CDATA[com.zms.foundation]]></item>
          <item key="revision"><![CDATA[1.2.0]]></item>
          <item key="type"><![CDATA[ZMSObject]]></item>
        </dictionary>
      </item>
    </dictionary>
  </item>
  <item type="dictionary">
    <dictionary>
      <item key="key"><![CDATA[ZMSLib]]></item>
      <item key="value" type="dictionary">
        <dictionary>
          <item key="__obj_attrs__" type="list">
            <list>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[<!-- bodyContentZMSLib_page -->

	<span tal:omit-tag="" tal:define="global 
		childNodes    python:here.getObjChildren('e',request,here.PAGEELEMENTS)">
		<span tal:omit-tag="" tal:condition="childNodes">
			<span tal:omit-tag="" tal:content="structure here/bodyContent_PagePre">The page-pre-content</span>
			<span tal:omit-tag="" tal:repeat="childNode childNodes">
				<span tal:omit-tag="" tal:content="structure python:childNode.getBodyContent(request)">The page-element body-content</span>
			</span>
			<span tal:omit-tag="" tal:content="structure here/bodyContent_PagePost">The page-post-content</span>
		</span>
	</span>

<!-- /bodyContentZMSLib_page -->]]>
                  </item>
                  <item key="id"><![CDATA[bodyContentZMSLib_page]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Template: Page]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[Page Template]]></item>
                </dictionary>
              </item>
            </list>
          </item>
          <item key="enabled" type="int">0</item>
          <item key="id"><![CDATA[ZMSLib]]></item>
          <item key="name"><![CDATA[ZMSLib]]></item>
          <item key="package"><![CDATA[com.zms.foundation]]></item>
          <item key="revision"><![CDATA[1.0.0]]></item>
          <item key="type"><![CDATA[ZMSLibrary]]></item>
        </dictionary>
      </item>
    </dictionary>
  </item>
  <item type="dictionary">
    <dictionary>
      <item key="key"><![CDATA[ZMSLinkContainer]]></item>
      <item key="value" type="dictionary">
        <dictionary>
          <item key="__obj_attrs__" type="list">
            <list>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmslinkcontainer_16x16.gif" type="file">47494638396110001000b300000402048c8e8cc4cac404028434464cacbedce4eaecacaeb4647294fc02fc2c2a34545e64c4d6ec7496b4fcfefc0000ff21f90401000009002c000000001000100003046e30c974820d67ea24d462a00028c2d62d467328400b30da61804cd3b8e314183c53200a022e2039380cc7c6c2b6702d8a0e87e0801b2d104f4e1437c061a10081d401188bb2897015279a94018157e016270324ea754bd44e8bc5657f2d646e2e37557d787f6466771b38692e1211003b</data>
                  </item>
                  <item key="id"><![CDATA[icon]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmslinkcontainer_disabled_16x16.gif" type="file">47494638396110001000b30000fc02fc8c8a8cc4c2c4acaeaceceaec5c5a5c9c9a9cd4d2d47c7a7cbcbabcccceccf4f6f4646664949294a4a2a4dcdadc21f90401000000002c0000000010001000030474104820861d626af05078a05220cff6300d910848e132e59410c77358ae8bc8447f28064620574848048b9eaae1180c5d068982b05008880c94230a502c1658e2560a3e2ccc85f3b9c005140ec4387c922e0cde0343c1512f48de714470736e66686a707574397c727e748660888f1a446e391211003b</data>
                  </item>
                  <item key="id"><![CDATA[icon_disabled]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon (Disabled)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[interface0]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[<dtml-comment>
################################################################################
##### Align: EDIT
################################################################################
</dtml-comment>
<dtml-if "getParentNode().meta_id in ['ZMS','ZMSFolder','ZMSDocument']">
<table cellspacing="0" cellpadding="1" border="0" width="100%">
<colgroup>
 <col width="20%" />
 <col width="80%" />
</colgroup>
<tr valign="middle">
 <td><div class="form-label"><dtml-var "getZMILangStr('ALIGN')"></div></td>
 <td><dtml-var "getObjInput('align',REQUEST)"></td>
</tr>
</table>
</dtml-if>

<table cellspacing="1" cellpadding="2" border="0" class="zmiNeutralColorStrong0">
<tr class="zmiNeutralColorMedium0">
 <td colspan="5"><dtml-var "f_headline(_,_,headline=getZMILangStr('BTN_ADD'))"></td>
</tr>
<tr valign="top" class="zmiNeutralColorStrong0">
 <td> &nbsp; </td>
 <td>
  <span class="form-label"><dtml-var "getZMILangStr('ATTR_URL')"><dtml-var FORM_LABEL_MANDATORY></span>
  <span class="form-small">(<dtml-var "getZMILangStr('OR').lower()"> PMID)</span>
 </td>
 <td>
  <span class="form-label"><dtml-var "getZMILangStr('ATTR_TITLE')"><dtml-var FORM_LABEL_MANDATORY></span>
  <span class="form-small">(<dtml-var "getZMILangStr('OR').lower()"> &quot;Medline&quot;)</span>
 </td>
 <td colspan="2">
  <span class="form-label"><dtml-var "getZMILangStr('ATTR_DESCRIPTION')"></span>
 </td>
</tr>

<dtml-comment>
################################################################################
##### Link-Elements: INSERT
################################################################################
</dtml-comment>
<dtml-call "REQUEST.set( 'ZMS_INSERT', 'ZMSLinkElement')">
<tr valign="top" class="zmiNeutralColorMedium0">
 <td align="right"><img src="<dtml-var MISC_ZMS>btn_add.gif" border="0" class="button"/></td>
 <td class="form-small"><dtml-var "getUrlInput(fmName='form0',elName='_url',elTextName='_title',size=15,value='',enabled=1,REQUEST=REQUEST,css='form-small')">&nbsp;</td>
 <td class="form-small"><dtml-var "getTextInput(fmName='form0',elName='_title',size=15,value='',enabled=1,REQUEST=REQUEST,css='form-small')"></td>
 <td class="form-small"><dtml-var "getTextArea(fmName='form0',elName='_description',cols=20,rows=3,value='',enabled=1,REQUEST=REQUEST,css='form-small')"></td>
 <td width="100">
   <input class="ui-button ui-state-default ui-corner-all" name="btn" type="submit" value="<dtml-var "getZMILangStr('BTN_INSERT')" html_quote>" accesskey="<dtml-var "getZMILangStr('BTN_INSERT')[0]" html_quote>" title="ALT+Shift+<dtml-var "getZMILangStr('BTN_INSERT')[0]" html_quote>" onclick="processMultiselectsOnFormSubmit(); self.btnClicked=this.value;">
   &nbsp;&nbsp;
 </td>
</tr>

<dtml-comment>
################################################################################
##### Link-Elements: EDIT
################################################################################
</dtml-comment>
<dtml-call "REQUEST.set( 'ZMS_INSERT', None)">
<dtml-let childNodes="getObjChildren('e',REQUEST)">
<dtml-in childNodes>
<dtml-let seqindex=sequence-index ob=sequence-item>
<tr valign="top" class="zmiNeutralColorLight0">
 <td align="center" class="zmiNeutralColorMedium0"
  ><nobr
   ><select class="form-small" onchange="location.href='<dtml-var id>/manage_moveObjToPos?lang=<dtml-var lang>&pos:int='+(this.selectedIndex+1)"
    ><dtml-in "_.range(len(childNodes))"
     ><option <dtml-if "_['sequence-index']==seqindex">selected="selected"</dtml-if>><dtml-var "_['sequence-index']+1"></option
    ></dtml-in
   ></select
    ><a href="javascript:confirmDeleteBtnOnClick('manage_deleteObjs?ids:list=<dtml-var id>&preview=preview');" class="button"
     ><img src="<dtml-var MISC_ZMS>btn_trashcan1.gif" title="<dtml-var "getZMILangStr('BTN_DELETE')">" border="0"></a
  ></nobr
 </td>
 <td class="form-small"><dtml-var "getUrlInput(fmName='form0',elName='url%s'%id,elTextName='title%s'%id,size=15,value=getObjAttrValue(getObjAttr('attr_ref'),REQUEST),enabled=1,REQUEST=REQUEST,css='form-small')">&nbsp;</td>
 <td class="form-small"><dtml-var "getTextInput(fmName='form0',elName='title%s'%id,size=15,value=getObjAttrValue(getObjAttr('title'),REQUEST),enabled=1,REQUEST=REQUEST,css='form-small')"></td>
 <td class="form-small"><dtml-var "getTextArea(fmName='form0',elName='description%s'%id,cols=20,rows=3,value=getObjAttrValue(getObjAttr('attr_dc_description'),REQUEST),enabled=1,REQUEST=REQUEST,css='form-small')"></td>
 <td width="100" class="zmiNeutralColorMedium0"><dtml-var "manage_main_change(_,_,ob=ob,REQUEST=REQUEST)"></td>
</tr>
</dtml-let>
</dtml-in>
</dtml-let>

</table>

<dtml-call "REQUEST.set('ZMS_HIDE_ELEMENTS',REQUEST.get('ZMS_HIDE_ELEMENTS',[])+['align','e'])">]]>
                  </item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[interface]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[align]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[LEFT]]></item>
                      <item><![CDATA[LEFT_FLOAT]]></item>
                      <item><![CDATA[RIGHT]]></item>
                      <item><![CDATA[RIGHT_FLOAT]]></item>
                      <item><![CDATA[NONE]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Align]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[select]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[e]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Link-Elements]]></item>
                  <item key="repetitive" type="int">1</item>
                  <item key="type"><![CDATA[ZMSLinkElement]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[## Script (Python) "ZMSLinkContainer.onChangeObjEvt"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=zmscontext
##title=py: Event: onChangeObj
##
# --// BO onChangeObjEvt //--

request = zmscontext.REQUEST
align = zmscontext.attr('align')
if align:
    for childNode in zmscontext.getChildNodes(request,['ZMSLinkElement']):
        childNode.attr('align',align)

# --// EO onChangeObjEvt //--
]]>
                  </item>
                  <item key="id"><![CDATA[onChangeObjEvt]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Event: onChangeObj]]></item>
                  <item key="py"><![CDATA[<PythonScript at ZMSLinkContainer.onChangeObjEvt>]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[py]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[<!-- bodyContentZMSCustom_ZMSLinkContainer -->

<span tal:omit-tag="" tal:define="global 
    zmscontext options/zmscontext;
    subclass      python:[];
    align         python:zmscontext.attr('align')">
  <span tal:omit-tag="" tal:condition="python:align in [ 'LEFT', 'CENTER', 'RIGHT']">
    <span tal:omit-tag="" tal:define="global subclass python:subclass+[align.lower()]"></span>
  </span>
  <span tal:omit-tag="" tal:condition="python:align in [ 'LEFT_FLOAT']">
    <span tal:omit-tag="" tal:define="global subclass python:subclass+['floatleft']"></span>
  </span>
  <span tal:omit-tag="" tal:condition="python:align in [ 'RIGHT_FLOAT']">
    <span tal:omit-tag="" tal:define="global subclass python:subclass+['floatright']"></span>
  </span>
  <div tal:condition="python:len(subclass)>0"
       tal:attributes="id python:zmscontext.id; class python:' '.join(subclass)"
       tal:content="structure python:zmscontext.renderShort(request)">
    The content
  </div>
</span>

<!-- /bodyContentZMSCustom_ZMSLinkContainer -->]]>
                  </item>
                  <item key="id"><![CDATA[bodyContentZMSCustom_ZMSLinkContainer]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Template: ZMSLinkContainer]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[zpt]]></item>
                  <item key="zpt"><![CDATA[<ZopePageTemplate at ZMSLinkContainer.bodyContentZMSCustom_ZMSLinkContainer>]]></item>
                </dictionary>
              </item>
            </list>
          </item>
          <item key="access" type="dictionary">
            <dictionary>
              <item key="delete" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="delete_custom"></item>
              <item key="edit" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="edit_custom"></item>
              <item key="insert" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="insert_custom"><![CDATA[{$}]]></item>
            </dictionary>
          </item>
          <item key="enabled" type="int">1</item>
          <item key="id"><![CDATA[ZMSLinkContainer]]></item>
          <item key="name"><![CDATA[ZMSLinkContainer]]></item>
          <item key="package"><![CDATA[com.zms.foundation]]></item>
          <item key="revision"><![CDATA[1.2.0]]></item>
          <item key="type"><![CDATA[ZMSObject]]></item>
        </dictionary>
      </item>
    </dictionary>
  </item>
  <item type="dictionary">
    <dictionary>
      <item key="key"><![CDATA[ZMSLinkElement]]></item>
      <item key="value" type="dictionary">
        <dictionary>
          <item key="__obj_attrs__" type="list">
            <list>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmslinkelement_16x16.gif" type="file">47494638396110001000b30000050305878d93c4c9c5e5eaeb0402849299fa344448acaeb3f7fcf9686e8cfc02fc565f62b2bfdf292a30c6d5eb6876b421f9040100000a002c0000000010001000030477504975820d676a25da72e00134ced62d43c018400b08da310ce013b8e314cc3493342c574072400c8c87c5e310042c2402044220c235128927458aa8ba1e05c690739c0916ae4278ac603818021c013739380aaf2902a08fd75f38817e127c0037620a86851380812e838451517c92001b892e982d1211003b</data>
                  </item>
                  <item key="id"><![CDATA[icon]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmslinkelement_disabled_16x16.gif" type="file">47494638396110001000b30000fc02fc8c8a8cc4c2c4acaeaceceaec5c5a5c9c9a9cd4d2d47c7a7cbcbabcccceccf4f6f4646664949294a4a2a4dcdadc21f90401000000002c000000001000100003047a104820861d626af05038cfa314c8b33d4c43240252bc8c3909447858ef8b4c495d2b064620574848040b422dd1700c862f8344915408888c94430aa02e160206d191b84d95ca472327280f260782629413e7668feb61b12ff0f905330507448584137e050383030681898884853987917f7e7b951a44009c0011003b</data>
                  </item>
                  <item key="id"><![CDATA[icon_disabled]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon (Disabled)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[titlealt]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Title.Alt]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[string]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[title]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Title]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[string]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[inferface0]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[<dtml-call "REQUEST.set('beforeSubmitBtnClick','if ( zmiOnSubmitEventHandler(this)) { ')">
<dtml-call "REQUEST.set('afterSubmitBtnClick',' } ')">
<script type="text/javascript">
<!--//

var btn = null;
var remoteHref = null;
var remoteHrefValid = false;
var remoteHrefResponseWaiting = false;
var remoteHrefResponseTimeout = 5000;

function zmiOnSubmitEventHandler(el) {
  btn = el;
  if ($("#attr_type").val() == "remote") {
    var href = $("#attr_ref").val();
    if ( !remoteHrefValid || remoteHref != href) {
      remoteHref = href;
      remoteHrefValid = false;
      remoteHrefResponseWaiting = true;
      self.btnClicked = 'break';
      // Set wait-cursor.
      $(document.body).css( "cursor", "wait");
      // JQuery.AJAX.get
      $.get( remoteHref+"/getBodyContent", remoteResponse);
      // Set time-out.
      setTimeout("remoteResponseTimedout()",remoteHrefResponseTimeout);
    }
    return remoteHrefValid;
  }
  return true;
}

function remoteResponse(data) {
  if (remoteHrefResponseWaiting) {
    remoteHrefResponseWaiting = false;
    // Reset wait-cursor.
    $(document.body).css( "cursor", "auto");
    //
    $("#attr_ref").removeClass("form-error");
    remoteHrefValid = true;
    btn.click();
  }
}

function remoteResponseTimedout() {
  if (remoteHrefResponseWaiting) {
    remoteHrefResponseWaiting = false;
    // Reset wait-cursor.
    $(document.body).css( "cursor", "auto");
    //
    $("#attr_ref").addClass("form-error");
    remoteHrefValid = false;
    if (confirm( "Time-Out <dtml-var "getZMILangStr('ATTR_URL')">: " + remoteHref)) {
      remoteHrefValid = true;
      btn.click();
    }
  }
}

//-->
</script>

<table cellspacing="0" cellpadding="1" border="0" width="100%">
<colgroup>
 <col width="20%" />
 <col width="80%" />
</colgroup>
<dtml-comment>
################################################################################
##### Ref & Type: EDIT
################################################################################
</dtml-comment>
<tr valign="middle">
 <td><div class="form-label"><dtml-var "getZMILangStr('ATTR_URL')"> <dtml-var FORM_LABEL_MANDATORY></div></td>
 <td>
  <div style="float:left"><dtml-var "getObjInput('attr_ref',REQUEST)"></div>
  <div style="float:left">&nbsp;</div>
  <div style="float:left"><dtml-var "getObjInput('attr_type',REQUEST)"></div>
 </td>
</tr>
<dtml-comment>
################################################################################
##### Embedded Object: PREVIEW
################################################################################
</dtml-comment>
<dtml-unless ZMS_INSERT>
<tr valign="middle">
 <td>&nbsp;</td>
 <td <dtml-if "isPage()">class="zmiNeutralColorLight0"<dtml-else>class="zmiNeutralColorWhite"</dtml-if> style="border: 1px dashed black;">
  <dtml-var "renderShort(REQUEST)">
 </td>
</tr>
</dtml-unless>

</table>

<dtml-call "REQUEST.set('ZMS_HIDE_ELEMENTS',REQUEST.get('ZMS_HIDE_ELEMENTS',[])+['attr_ref','attr_type'])">]]>
                  </item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[interface]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_ref]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Reference]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[url]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_type]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[replace]]></item>
                      <item><![CDATA[new]]></item>
                      <item><![CDATA[embed]]></item>
                      <item><![CDATA[recursive]]></item>
                      <item><![CDATA[remote]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Type]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[select]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[align]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[LEFT]]></item>
                      <item><![CDATA[LEFT_FLOAT]]></item>
                      <item><![CDATA[RIGHT]]></item>
                      <item><![CDATA[RIGHT_FLOAT]]></item>
                      <item><![CDATA[NONE]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Align]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[select]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[TAB_METADATA]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[TAB_METADATA]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[delimiter]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_dc_description]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Description]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[attr_dc_description]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[## Script (Python) "ZMSLinkElement.attr_img_src"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=zmscontext
##title=py: Alias: Teaser.Image
##
# --// BO attr_img_src //--

title = zmscontext.attr('title')
ref = zmscontext.attr('attr_ref')
if ref.startswith('{$') and ref.endswith('}'):
    ref_obj = zmscontext.getLinkObj(ref)
    if ref_obj:
        return zmscontext.MISC_ZMS+'internal_link.gif'
    else:
        return zmscontext.MISC_ZMS+'internal_link_broken.gif'
elif ref.startswith('mailto:'):
    return zmscontext.MISC_ZMS+'mail_link.gif'
elif title.lower()=='medline':
    return zmscontext.MISC_ZMS+'pubmed_small.gif'
else:
    return zmscontext.MISC_ZMS+'external_link.gif'

# --// EO attr_img_src //--
]]>
                  </item>
                  <item key="id"><![CDATA[attr_img_src]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Alias: Teaser.Image]]></item>
                  <item key="py"><![CDATA[<PythonScript at ZMSLinkElement.attr_img_src>]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[py]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[## Script (Python) "ZMSLinkElement.attr_url"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=zmscontext
##title=py: Alias: Teaser.Url
##
# --// BO attr_url //--

title = zmscontext.attr('title')
ref = zmscontext.attr('attr_ref')
if title.lower()=='medline':
  return 'http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=Retrieve&db=PubMed&list_uids=%i&dopt=Abstract'%int(ref)
else:
  return ref

# --// EO attr_url //--
]]>
                  </item>
                  <item key="id"><![CDATA[attr_url]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Alias: Teaser.Url]]></item>
                  <item key="py"><![CDATA[<PythonScript at ZMSLinkElement.attr_url>]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[py]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[## Script (Python) "ZMSLinkElement.attr_abstract"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=zmscontext
##title=py: Alias: Teaser.Abstract
##
# --// BO attr_abstract //--

return zmscontext.attr('attr_dc_description')

# --// EO attr_abstract //--
]]>
                  </item>
                  <item key="id"><![CDATA[attr_abstract]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Alias: Teaser.Abstract]]></item>
                  <item key="py"><![CDATA[<PythonScript at ZMSLinkElement.attr_abstract>]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[py]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[<!-- bodyContentZMSCustom_ZMSLinkElement -->

<span tal:omit-tag="" tal:define="global 
    zmscontext options/zmscontext;
    subclass      python:[zmscontext.meta_id];
    title         python:unicode(zmscontext.attr('title'),'utf-8');
    titlealt      python:unicode(zmscontext.attr('titlealt'),'utf-8');
    ref           python:zmscontext.attr('attr_url');
    align         python:zmscontext.attr('align');
    abstract      python:unicode(zmscontext.attr('attr_abstract').replace('\n','<br/>'),'utf-8')">
  <span tal:omit-tag="" tal:condition="python:align in [ 'LEFT', 'CENTER', 'RIGHT']">
    <span tal:omit-tag="" tal:define="global subclass python:subclass+[align.lower()]"></span>
  </span>
  <span tal:omit-tag="" tal:condition="python:align in [ 'LEFT_FLOAT']">
    <span tal:omit-tag="" tal:define="global subclass python:subclass+['floatleft']"></span>
  </span>
  <span tal:omit-tag="" tal:condition="python:align in [ 'RIGHT_FLOAT']">
    <span tal:omit-tag="" tal:define="global subclass python:subclass+['floatright']"></span>
  </span>
  <div tal:condition="python:align not in ['','NONE'] or request.get('URL','').find('/manage')>0"
       tal:attributes="id python:zmscontext.id; class python:' '.join(subclass)">
    <div class="title" tal:condition="python:title.lower()!='medline' and title">
      <img tal:attributes="src python:zmscontext.attr('attr_img_src')" border="0" alt="url" align="absmiddle" />
      <a tal:condition="python:zmscontext.attr('attr_type')=='new'" tal:attributes="href python:zmscontext.getLinkUrl(ref,request)" tal:content="structure titlealt" target="_blank">The titlealt</a>
      <a tal:condition="python:zmscontext.attr('attr_type')!='new'" tal:attributes="href python:zmscontext.getLinkUrl(ref,request)" tal:content="structure titlealt">The titlealt</a>
    </div>
    <div tal:condition="python:title and title!=titlealt" class="text" tal:content="structure title">The title</div>
    <div tal:condition="python:abstract" class="description" tal:content="structure abstract">The abstract</div>
    <a tal:condition="python:title.lower()=='medline'" 
      tal:attributes="href python:zmscontext.getLinkUrl(ref,request)"
      target="_blank"><img  tal:attributes="src python:zmscontext.attr('attr_img_src')" border="0" alt="Medline" align="absmiddle" /></a>
  </div>
</span>

<!-- /bodyContentZMSCustom_ZMSLinkElement -->]]>
                  </item>
                  <item key="id"><![CDATA[bodyContentZMSCustom_ZMSLinkElement]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Template: ZMSLinkElement]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[zpt]]></item>
                  <item key="zpt"><![CDATA[<ZopePageTemplate at ZMSLinkElement.bodyContentZMSCustom_ZMSLinkElement>]]></item>
                </dictionary>
              </item>
            </list>
          </item>
          <item key="access" type="dictionary">
            <dictionary>
              <item key="delete" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="delete_custom"></item>
              <item key="edit" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="edit_custom"></item>
              <item key="insert" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="insert_custom"><![CDATA[{$}]]></item>
            </dictionary>
          </item>
          <item key="enabled" type="int">1</item>
          <item key="id"><![CDATA[ZMSLinkElement]]></item>
          <item key="name"><![CDATA[ZMSLinkElement]]></item>
          <item key="package"><![CDATA[com.zms.foundation]]></item>
          <item key="revision"><![CDATA[1.2.2]]></item>
          <item key="type"><![CDATA[ZMSObject]]></item>
        </dictionary>
      </item>
    </dictionary>
  </item>
  <item type="dictionary">
    <dictionary>
      <item key="key"><![CDATA[ZMSNote]]></item>
      <item key="value" type="dictionary">
        <dictionary>
          <item key="__obj_attrs__" type="list">
            <list>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmsnote.gif" type="file">47494638396110001000b30000a78842fcda0cc4a868fcf274c8a228fcec41c4b982fcf499b89638fcde249cba64dcb21cfcf28cfcee5cfcf6acfcea2d21f9040100000a002c000000001000100003045950c949abbdd4e8cdbb324e288ea2f11da883ae2a6a1a0713cb34439bc2c00c7adfef82cfa0312c128f035c63c96c360a89a0a0f0a416ac8d05010050081ee07038414074bd8f04589d7e04cc13817c4e172030f8bc7e2f8900003b</data>
                  </item>
                  <item key="id"><![CDATA[icon]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmsnote_bg.gif" type="file">4749463839610d000d00b30000fcce64fcf6bcfcda8cfcd274fffffffcce6cfcfecc000077788268ed00211200e80000009002fe0000ff0000ff0000ff21f90400000000002c000000000d000d0003042cb09049eb04c26a1086ae8011641f118ade778aa4b5a29b21cba33bcf1d78e3ed7bd7a6dd2f5300188f486304003b</data>
                  </item>
                  <item key="id"><![CDATA[zmsnote_bg.gif]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Resource: Background]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[text]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Text]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[text]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[catalogText]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Hook: Catalog-Text]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[constant]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[<dtml-comment>--// BO renderShort //--</dtml-comment>

<dtml-unless "REQUEST.get('ZMSNOTE_JS')">

<style>
div.note {
	border-left: 1px solid #FCCD64;
	border-bottom: 1px solid #FCCD64;
	margin: 8px;
	padding: 4px;
	background: #FCFECC url(<dtml-var "getMetaobjAttr(meta_id,'zmsnote_bg.gif')['custom'].absolute_url()">) top right no-repeat;
}
</style>

<script language="JavaScript">
var firedZMSNoteDiv = false;
var repeatZMSNoteDiv = false;

function onKeyUpZMSNoteDiv(el) {
    if (!firedZMSNoteDiv) {
      firedZMSNoteDiv = true;
      setTimeout('onChangeZMSNoteDiv(\''+el.id+'\')',500);
    }
    else  {
      repeatZMSNoteDiv = true;
    }
}

function onChangeZMSNoteDiv(id) {
    if (repeatZMSNoteDiv) {
      repeatZMSNoteDiv = false;
      setTimeout('onChangeZMSNoteDiv(\''+id+'\')',500);
    }
    else {
      firedZMSNoteDiv = false;
      repeatZMSNoteDiv = false;
      var el = $('div#'+id);
      var v = el.text();
      el.addClass('zmiTeaserColor');
      $.post(id+'/manage_changeProperties',{'lang':'<dtml-var lang>','text_<dtml-var lang>':v},function(data){
        el.removeClass('zmiTeaserColor');
      },'html');
    }
}

</script>
<dtml-call "REQUEST.set('ZMSNOTE_JS',True)">
</dtml-unless>

<div class="note">
	<div id="<dtml-var id>" contentEditable="true" onkeyup="onKeyUpZMSNoteDiv(this)"><dtml-var "getText(REQUEST)" newline_to_br></div>
</div>

<dtml-comment>--// EO renderShort //--</dtml-comment>]]>
                  </item>
                  <item key="id"><![CDATA[renderShort]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[ZMI: Render short]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[method]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[## Script (Python) "ZMSNote.onChangeObjEvt"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=zmscontext
##title=py: Event: onChangeObj
##
# --// BO onChangeObjEvt //--

request = zmscontext.REQUEST
zmscontext.commitObj(request)

# --// EO onChangeObjEvt //--
]]>
                  </item>
                  <item key="id"><![CDATA[onChangeObjEvt]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Event: onChangeObj]]></item>
                  <item key="py"><![CDATA[<PythonScript at ZMSNote.onChangeObjEvt>]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[py]]></item>
                </dictionary>
              </item>
            </list>
          </item>
          <item key="access" type="dictionary">
            <dictionary>
              <item key="delete" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="delete_custom"></item>
              <item key="edit" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="edit_custom"></item>
              <item key="insert" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="insert_custom"><![CDATA[{$}]]></item>
            </dictionary>
          </item>
          <item key="enabled" type="int">1</item>
          <item key="id"><![CDATA[ZMSNote]]></item>
          <item key="name"><![CDATA[ZMSNote]]></item>
          <item key="package"><![CDATA[com.zms.foundation]]></item>
          <item key="revision"><![CDATA[1.2.0]]></item>
          <item key="type"><![CDATA[ZMSObject]]></item>
        </dictionary>
      </item>
    </dictionary>
  </item>
  <item type="dictionary">
    <dictionary>
      <item key="key"><![CDATA[ZMSSqlDb]]></item>
      <item key="value" type="dictionary">
        <dictionary>
          <item key="__obj_attrs__" type="list">
            <list>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmssqldb.gif" type="file">47494638396112001000b30000337270754b39707170007e9c558b7e009ab501a9e9b4572efe152eff00ffa19367bed216dfbe65fed965a7a7a7e5e5e521f90401000009002c000000001200100000045930c949abbd983ae1ba93ce500c44d53d4f071a2c603aa89a38ace1ce1e9ce6452b290c8682b339200e0780f2e66834180210627af8689c5029d53ae1288620e42140b40acee7496ec18e66d4ec85fb3d8bcfdfe8347dcf8f00003b</data>
                  </item>
                  <item key="id"><![CDATA[icon]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[<dtml-comment>--// BO renderShort //--</dtml-comment>

<dtml-try>
	<dtml-in "getEntities()" mapping>
		<dtml-if "type=='table'">
			<div class="form-small"><a href="<dtml-var absolute_url>/manage_main?qentity=<dtml-var id>" class="zmi"><dtml-var label></div>
		</dtml-if>
	</dtml-in>
<dtml-except>
	<pre>DATABASE CONNECTION ERROR <a href="&dtml-id;/manage_properties">...</a></pre>
</dtml-try>

<dtml-comment>--// EO renderShort //--</dtml-comment>]]>
                  </item>
                  <item key="id"><![CDATA[renderShort]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[ZMI: Render short]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[method]]></item>
                </dictionary>
              </item>
            </list>
          </item>
          <item key="access" type="dictionary">
            <dictionary>
              <item key="delete" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="delete_custom"></item>
              <item key="edit" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="edit_custom"></item>
              <item key="insert" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="insert_custom"><![CDATA[{$}]]></item>
            </dictionary>
          </item>
          <item key="enabled" type="int">0</item>
          <item key="id"><![CDATA[ZMSSqlDb]]></item>
          <item key="name"><![CDATA[ZMSSqlDb]]></item>
          <item key="package"><![CDATA[com.zms.foundation]]></item>
          <item key="revision"><![CDATA[1.1.0]]></item>
          <item key="type"><![CDATA[ZMSObject]]></item>
        </dictionary>
      </item>
    </dictionary>
  </item>
  <item type="dictionary">
    <dictionary>
      <item key="key"><![CDATA[ZMSSysFolder]]></item>
      <item key="value" type="dictionary">
        <dictionary>
          <item key="__obj_attrs__" type="list">
            <list>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmssysfolder.gif" type="file">47494638396110001000b30000aa9d88d1b375fdfcc8f5e0a1fdf1a9fdfeede6cb87fdf8b7fdfed8ff00ffbbb69eb9b097e0c483fde89efdfefaedd48c21f90401000009002c000000001000100003045f30c9496b5a2feb65e57320283c4af7208820a484e66269aaaa61980d78aeeb1952fcc020f061101c8ec8e471f410109ed0e8f3403c48af8483c1406878bf602f61db1d7ccd5e3481c120ecde8371bbd1add3ef5d0620c0effbfd001d820911003b</data>
                  </item>
                  <item key="id"><![CDATA[icon]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmssysfolder_disabled.gif" type="file">47494638396110001000b30000ff00ffbdbebde4e2e4f4f3f4f9faf9cecdceacabacf0eff0fdfefdb9bab9dbdadbe8e9e8f9f8f9d3d2d3fdfcfd78787821f90401000000002c000000001000100003046110c8492b482aeb64a5420811124dd02904c130eaa1bd98aaaecc008a6026ecc2b2fb3d5e26354a198f8a466dc06c3a078ccce040ad5aa983e4f4ca3d340a8785784c167b1be19e58ed3317c0bcb8dc0b5e84eff67cb86008f8ff8080061d840011003b</data>
                  </item>
                  <item key="id"><![CDATA[icon_disabled]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon (Disabled)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[titlealt]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Title.Alt]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[titlealt]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[title]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Title]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[title]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[0]]></item>
                  <item key="id"><![CDATA[attr_cacheable]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Cacheable]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[constant]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[TAB_METADATA]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[TAB_METADATA]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[delimiter]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_dc_description]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[DC.Description]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[attr_dc_description]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[interface]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[<dtml-var f_submitBtn>
</form>
<dtml-call "REQUEST.set('omit_submitBtn',True)">

<dtml-unless ZMS_INSERT>

<dtml-unless skey><dtml-call expr="REQUEST.set('skey', 'id')"></dtml-unless>
<dtml-unless rkey><dtml-call expr="REQUEST.set('rkey', '')"></dtml-unless>

<dtml-comment> ### Action_List ################################# </dtml-comment>
<form action="&dtml-URL1;/" method="get">
<input type="hidden" name="lang" value="<dtml-var lang>">
<div align="right" class="form-small" width="100%">
  <dtml-if filtered_meta_types>
    <select class="form-small" name=":action"
         onChange="location.href='&dtml-URL1;/'+this.options[this.selectedIndex].value">
      <option value="manage_workspace">----- <dtml-var "getZMILangStr('ACTION_INSERT')%display_type(REQUEST)"> -----</option>
      <dtml-in filtered_meta_types mapping sort=name>
        <dtml-unless "name.find('ZMS')==0">
          <option value="&dtml.url_quote-action;"><dtml-var name></option>
        </dtml-unless>
      </dtml-in>
    </select>
  </dtml-if>
</div>
</form>

<dtml-comment> ### Object_List ################################# </dtml-comment>
<table cellspacing="0" cellpadding="2" border="0" width="100%" class="zmiNeutralColorStrong0">
<form name="form1" action="&dtml-URL1;/" name="objectItems" method="post">
<tr>
<td valign="top">
<dtml-if objectItems>
<table width="100%" cellspacing="0" cellpadding="2" border="0">
<tr class="list-header">
  <td width="5%" valign="middle"
    ><a href="javascript:var btn=$('#slctBtn');var slct=btn.attr('src').indexOf('btn_slctall.gif')>0;if(slct){btn.attr('src','<dtml-var MISC_ZMS>btn_slctnone.gif');} else {btn.attr('src','<dtml-var MISC_ZMS>btn_slctall.gif');};selectCheckboxes($(btn.parents('form')[0]),slct);" class="button"
     ><img id="slctBtn" src="<dtml-var MISC_ZMS>btn_slctall.gif" border="0"
    ></a
  ></td>
  <td width="5%" align="right"><div
   class="list-item"><a href="./manage_main?skey=meta_type<dtml-if
   "rkey == ''">&rkey=meta_type</dtml-if>"
   onMouseOver="window.status='Sort objects by type'; return true"
   onMouseOut="window.status=''; return true"><dtml-if
   "skey == 'meta_type' or rkey == 'meta_type'"
   ><strong><dtml-var "getZMILangStr('ATTR_TYPE')"></strong><dtml-else><dtml-var "getZMILangStr('ATTR_TYPE')"></dtml-if></a></div>
  </td>
  <td width="50%"><div class="list-item"><a
   href="./manage_main?skey=id<dtml-if
   "rkey == ''">&rkey=id</dtml-if>"
   onMouseOver="window.status='Sort objects by name'; return true"
   onMouseOut="window.status=''; return true"><dtml-if
   "skey == 'id' or rkey == 'id'"
   ><strong><dtml-var "getZMILangStr('ATTR_NAME')"></strong><dtml-else><dtml-var "getZMILangStr('ATTR_NAME')"></dtml-if></a></div>
  </td>
  <td width="15%"><div class="list-item"><a
   href="./manage_main?skey=get_size<dtml-if
   "rkey == ''">&rkey=get_size</dtml-if>"
   onMouseOver="window.status='Sort objects by size'; return true"
   onMouseOut="window.status=''; return true"><dtml-if
   "skey == 'get_size' or rkey == 'get_size'"
   ><strong><dtml-var "getZMILangStr('ATTR_SIZE')"></strong><dtml-else><dtml-var "getZMILangStr('ATTR_SIZE')"></dtml-if></a></div>
  </td>
  <td width="29%"><div class="list-item"><a
   href="./manage_main?skey=bobobase_modification_time<dtml-if
   "rkey == ''">&rkey=bobobase_modification_time</dtml-if
   >"
   onMouseOver="window.status='Sort objects by modification time'; return true"
   onMouseOut="window.status=''; return true"><dtml-if
   "skey == 'bobobase_modification_time' or rkey == 'bobobase_modification_time'"
   ><strong><dtml-var "getZMILangStr('ATTR_LAST_MODIFIED')"></strong><dtml-else><dtml-var "getZMILangStr('ATTR_LAST_MODIFIED')"></dtml-if></a></div>
  </td>
</tr>
<dtml-in objectItems sort_expr="skey" reverse_expr="rkey">
<dtml-unless "meta_type=='ZMSAttributeContainer'">
<dtml-if sequence-odd>
<tr class="zmiNeutralColorLight0">
<dtml-else>
<tr class="zmiNeutralColorMedium0">
</dtml-if>
  <td align="center" valign="top"
    ><input type="checkbox" name="ids:list" value="&dtml-sequence-key;" /></td>
  <td valign="top">
  <dtml-if icon>
  <a href="&dtml.url_quote-sequence-key;/manage_workspace">
  <img src="&dtml-BASEPATH1;/&dtml-icon;" title="&dtml-meta_type;"
   title="&dtml-meta_type;" border="0" /></a>
  <dtml-else>
  &nbsp;
  </dtml-if>
  </td>
  <td valign="top">
  <div class="list-item">
  <a href="&dtml.url_quote-sequence-key;/manage_workspace">
  &dtml-sequence-key; <dtml-if title>(&dtml-title;)</dtml-if>
  </a>
  <dtml-if locked_in_version>
    <dtml-if modified_in_version>
      <img src="&dtml-BASEPATH1;/p_/locked"
       title="This item has been modified in this version" />
    <dtml-else>
      <img src="&dtml-BASEPATH1;/p_/lockedo"
       title="This item has been modified in another version" />
       (<em>&dtml-locked_in_version;</em>)
    </dtml-if>
  </dtml-if>
  </div>
  </td>

  <dtml-with sequence-key>
  <td>
  <div class="list-item">
  <dtml-try>
  <dtml-if get_size>
  <dtml-let ob_size=get_size>
  <dtml-if "ob_size < 1024">
  1 Kb
  <dtml-elif "ob_size > 1048576">
  <dtml-var "ob_size / 1048576.0" fmt="%0.02f"> Mb
  <dtml-else>
  <dtml-var "int(ob_size / 1024)"> Kb
  </dtml-if>
  </dtml-let>
  <dtml-else>
  &nbsp;
  </dtml-if>
  <dtml-except>
  &nbsp;
  </dtml-try>
  </div>
  </td>

  <td>
   <div class="list-item"><dtml-var "getLangFmtDate(bobobase_modification_time())"></div>
  </td>
  </dtml-with>
</tr>
</dtml-unless>
</dtml-in>
</table>

<table cellspacing="0" cellpadding="1" border="0" width="100%">
<tr>
  <td valign="top" width="16"></td>
  <td valign="top" nowrap="nowrap">
  <div class="form-element">
  <dtml-unless dontAllowCopyAndPaste>
  <input class="ui-button ui-state-default ui-corner-all" type="submit" name="manage_renameForm:method"
   value="<dtml-var "getZMILangStr('BTN_RENAME')" html_quote>" />
  <input class="ui-button ui-state-default ui-corner-all" type="submit" name="manage_cutObjects:method"
   value="<dtml-var "getZMILangStr('BTN_CUT')" html_quote>" />
  <input class="ui-button ui-state-default ui-corner-all" type="submit" name="manage_copyObjects:method"
   value="<dtml-var "getZMILangStr('BTN_COPY')" html_quote>" />
  <dtml-if cb_dataValid>
  <input class="ui-button ui-state-default ui-corner-all" type="submit" name="manage_pasteObjects:method"
   value="<dtml-var "getZMILangStr('BTN_PASTE')" html_quote>" />
  </dtml-if>
  </dtml-unless>
  <dtml-if "_.SecurityCheckPermission('Delete objects',this())">
  <input class="ui-button ui-state-default ui-corner-all" type="submit" name="manage_delObjects:method"
   value="<dtml-var "getZMILangStr('BTN_DELETE')" html_quote>" />
  </dtml-if>
  <dtml-if "_.SecurityCheckPermission('Import/Export objects', this())">
  <input class="ui-button ui-state-default ui-corner-all" type="submit"
   name="manage_importExportForm:method"
   value="Import/Export" />
  </dtml-if>
  </div>
  </td>
</tr>
</table>

<dtml-else>
<table cellspacing="0" cellpadding="2" border="0">
<tr>
<td>
<div class="std-text">
<dtml-var "getZMILangStr('MSG_EMPTYCONTAINER')"> <dtml-var "display_type(REQUEST)"> <em><dtml-var "getTitlealt(REQUEST)">
<br /><br />
</div>
<dtml-unless dontAllowCopyAndPaste>
<dtml-if cb_dataValid>
<div class="form-element">
<input class="ui-button ui-state-default ui-corner-all" type="submit" name="manage_pasteObjects:method"
 value="Paste" />
</div>
</dtml-if>
</dtml-unless>
<dtml-if "_.SecurityCheckPermission('Import/Export objects', this())">
<input class="ui-button ui-state-default ui-corner-all" type="submit"
  name="manage_importExportForm:method" value="Import/Export" />
</dtml-if>
</td>
</tr>
</table>
</dtml-if>
</td>
</tr>
</table>

</dtml-unless>]]>
                  </item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[interface]]></item>
                </dictionary>
              </item>
            </list>
          </item>
          <item key="access" type="dictionary">
            <dictionary>
              <item key="delete" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="delete_custom"></item>
              <item key="edit" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="edit_custom"></item>
              <item key="insert" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="insert_custom"><![CDATA[{$}]]></item>
            </dictionary>
          </item>
          <item key="enabled" type="int">0</item>
          <item key="id"><![CDATA[ZMSSysFolder]]></item>
          <item key="name"><![CDATA[ZMSSysFolder]]></item>
          <item key="package"><![CDATA[com.zms.foundation]]></item>
          <item key="revision"><![CDATA[1.0.0]]></item>
          <item key="type"><![CDATA[ZMSDocument]]></item>
        </dictionary>
      </item>
    </dictionary>
  </item>
  <item type="dictionary">
    <dictionary>
      <item key="key"><![CDATA[ZMSTable]]></item>
      <item key="value" type="dictionary">
        <dictionary>
          <item key="__obj_attrs__" type="list">
            <list>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmstable.gif" type="file">47494638396112001000f700000000845e6190606493636796656a9a676d9e6970a26b74a56d77a86f7aac7578a3767ca6727cae7880ab7a83b07d89b67f8ebcff00ff8080808195c3849bca87a1d287a9dc8aa8d98caedf92bcef94bff2b0d7ffc2e1ffc6e3ffcee6ffd1e8ffe4edf5e8eff7f3f9fffeffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000021f90401000011002c00000000120010000008920023081c48b020410d16122a5cb89081c00c00224a9c38d161040c14334ab47881040909233c4a00415282070f122c56101952c4c8921f502610484182cd9b387122103841a4881020467af820a1030709070442100934e850941c36483020f041ceab370b0874f0f3254a0f46256c904a406003a042891a953a56c200810bb06215205081ddbb78f30630c8b7af5fbe0101003b</data>
                  </item>
                  <item key="id"><![CDATA[icon]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmstable_disabled.gif" type="file">47494638396112001000f700005c5c5c6565656767676a6a6a6d6d6d7070707373737676767979797b7b7b7c7c7c7e7e7eff00ff8080808282828585858a8a8a8e8e8e9494949999999e9e9ea4a4a4a9a9a9b5b5b5b7b7b7cfcfcfdbdbdbdddddde1e1e1e3e3e3ebebebedededf7f7f7fefefeffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000021f9040100000c002c00000000120010000008920019081c48b020410c15122a5cb87081c00b00224a9c38d121030b14334ab45841848806213c36f040b201070e0d2c52101912c4c8921d502a1038a181cd9b38712210284124880f1e4672e8d060838606070446100934e850941a323430201042ceab370b087cf0f3254a0e461b64904a40a003a042891a953ab6c100810bb06215203081ddbb78f30630c8b7af5fbe0101003b</data>
                  </item>
                  <item key="id"><![CDATA[icon_disabled]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon (Disabled)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[caption]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Caption]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[string]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[align]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[TOP]]></item>
                      <item><![CDATA[BOTTOM]]></item>
                      <item><![CDATA[LEFT]]></item>
                      <item><![CDATA[RIGHT]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Align]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[select]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[interface0]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[<dtml-comment>
################################################################################
##### Table(Type,Cols,Rows): INSERT
################################################################################
</dtml-comment>
<dtml-if ZMS_INSERT>
<input type="hidden" name="redirect_self:int" value="1"/>

<script language="JavaScript">
<!--//

function onZMSTableFormSubmit()
{
  var xml = '';
  var type = parseInt($("input[name=\x22type:int\x22]:checked").val());
  xml += '<list>\n';
  for ( var y = 0; y < parseInt($('#rows').val()); y++) {
    xml += "<item type=\"list\"><list>\n";
    if ( y==0 && type == 2) {
      xml += '<item type="dictionary"><dictionary>\n';
      xml += '<item key="colspan" type="int">'+parseInt($('#cols').val())+'</item>\n';
      xml += '<item key="content"></item>\n';
      xml += '<item key="format"><dtml-var "getTextFormatDefault()"></item>\n';
      xml += '<item key="tag">th</item>\n';
      xml += '</dictionary></item>\n';
    }
    else {
      for ( var x = 0; x < parseInt($('#cols').val()); x++) {
        xml += '<item type=\"dictionary\"><dictionary>\n';
        if ( y==0 && x == 0 && type == 4) {
          xml += '<item key="colspan" type="int">1</item>\n';
        }
        else {
          var tag = "td";
          if ( (type == 1 && y == 0) ||
               (type == 3 && x == 0) ||
               (type == 4 && (x == 0 || y == 0))) {
            tag = "th";
          }
          xml += '<item key="colspan" type="int">1</item>\n';
          xml += '<item key="content"></item>\n';
          xml += '<item key="format"><dtml-var "getTextFormatDefault()"></item>\n';
          xml += '<item key="tag">'+tag+'</item>\n';
        }
        xml += '</dictionary></item>\n';
      }
    }
    xml += "</list></item>\n";
  }
  xml += '</list>\n';
  $("#table_table").val( xml);
  return onFormSubmit('<dtml-var fmName>');
}

$("form[name=<dtml-var fmName>]").submit( onZMSTableFormSubmit);
$()

//-->
</script>

<dtml-let
  table_th="'<th style=\042border: solid 1px #999999;\042><img src='+QUOT+spacer_gif+QUOT+' width=30 height=4 border=0/></th>'"
  table_td="'<td style=\042border: solid 1px #999999;\042><img src='+QUOT+spacer_gif+QUOT+' width=30 height=4 border=0/></td>'"
>
<img src="<dtml-var spacer_gif>" alt="" border="0" height="2"/>
<table cellspacing="0" cellpadding="1" border="0" width="100%">
<colgroup>
 <col width="20%" />
 <col width="80%" />
</colgroup>
<tr valign="top">
 <td><div class="form-label"><dtml-var "getZMILangStr('ATTR_COLS')"> &times; <dtml-var "getZMILangStr('ATTR_ROWS')"><dtml-var FORM_LABEL_MANDATORY></div></td>
 <td><div class="form-label"><dtml-var "getTextInput(fmName=fmName,elName='cols',value='3',size=2)"> &times; <dtml-var "getTextInput(fmName=fmName,elName='rows',value='3',size=2)"></div></td>
</tr>
<tr valign="top">
 <td rowspan="5"><div class="form-label"><dtml-var "getZMILangStr('ATTR_TYPE')"></div></td>
 <td>
  <table cellspacing="2" cellpadding="0" border="0">
  <tr>
   <td></td>
   <td align="center" class="form-small">3 <dtml-var "getZMILangStr('ATTR_COLS')"></td>
  </tr>
  <tr>
   <td></td>
   <td class="zmiNeutralColorStrong0"><img src="<dtml-var spacer_gif>" width="1" height="1" border="0" /></td>
  </tr>
  <tr>
   <td valign="middle" rowspan="3"><input class="form-radio" type="radio" name="type:int" value="1" checked="checked"></td>
   <td>
    <div class="ZMSTable">
    <table class="ZMSTable">
    <tr><dtml-var table_th><dtml-var table_th><dtml-var table_th></tr>
    <tr><dtml-var table_td><dtml-var table_td><dtml-var table_td></tr>
    <tr><dtml-var table_td><dtml-var table_td><dtml-var table_td></tr>
    </table>
    </div>
   </td>
   <td class="zmiNeutralColorStrong0"><img src="<dtml-var spacer_gif>" width="1" height="4" border="0"></td>
   <td valign="middle" class="form-small">3 <dtml-var "getZMILangStr('ATTR_ROWS')"></td>
  </tr>
  </table>
 </td>
</tr>
<tr>
 <td>
  <table cellspacing="2" cellpadding="0" border="0">
  <tr>
   <td valign="middle"><input class="form-radio" type="radio" name="type:int" value="2"></td>
   <td>
    <div class="ZMSTable">
    <table class="ZMSTable">
    <tr><th colspan="3" style="border: solid 1px #999999;"><img src="<dtml-var spacer_gif>" width="30" height="4" border="0"></th></tr>
    <tr><dtml-var table_td><dtml-var table_td><dtml-var table_td></tr>
    <tr><dtml-var table_td><dtml-var table_td><dtml-var table_td></tr>
    </table>
    </div>
   </td>
  </tr>
  </table>
 </td>
</tr>
<tr>
 <td>
  <table cellspacing="2" cellpadding="0" border="0">
  <tr>
   <td valign="middle"><input class="form-radio" type="radio" name="type:int" value="3"></td>
   <td>
    <div class="ZMSTable">
    <table class="ZMSTable">
    <tr><dtml-var table_th><dtml-var table_td><dtml-var table_td></tr>
    <tr><dtml-var table_th><dtml-var table_td><dtml-var table_td></tr>
    <tr><dtml-var table_th><dtml-var table_td><dtml-var table_td></tr>
    </table>
    </div>
   </td>
  </tr>
  </table>
 </td>
</tr>
<tr>
 <td>
  <table cellspacing="2" cellpadding="0" border="0">
  <tr>
   <td valign="middle"><input class="form-radio" type="radio" name="type:int" value="4"></td>
   <td>
    <div class="ZMSTable">
    <table class="ZMSTable">
    <tr><td><img src="<dtml-var spacer_gif>" width="30" height="4" border="0"></td><dtml-var table_th><dtml-var table_th></tr>
    <tr><dtml-var table_th><dtml-var table_td><dtml-var table_td></tr>
    <tr><dtml-var table_th><dtml-var table_td><dtml-var table_td></tr>
    </table>
    </div>
   </td>
  </tr>
  </table>
 </td>
</tr>
<tr>
 <td>
  <table cellspacing="2" cellpadding="0" border="0">
  <tr>
   <td></td>
   <td align="center" class="form-small"><dtml-var "getZMILangStr('ATTR_CUSTOM')"></td>
  </tr>
  <tr>
   <td></td>
   <td class="zmiNeutralColorStrong0"><img src="<dtml-var spacer_gif>" width="1" height="1" border="0" /></td>
  </tr>
  <tr>
   <td valign="middle"><input class="form-radio" type="radio" name="type:int" value="5"></td>
   <td>
    <div class="ZMSTable">
    <table class="ZMSTable">
    <tr>
     <dtml-var table_th>
     <dtml-var table_th>
     <dtml-var table_th>
    </tr>
    <tr>
     <dtml-var table_td>
     <dtml-var table_td>
     <dtml-var table_td>
    </tr>
    <tr>
     <dtml-var table_td>
     <dtml-var table_td>
     <dtml-var table_td>
    </tr>
    </table>
    </div>
   </td></tr>
  </table>
 </td>
</tr>
</table>
</dtml-let>

<dtml-comment>
################################################################################
##### Table(Type,Cols,Rows): EDIT
################################################################################
</dtml-comment>
<dtml-else>

<dtml-comment>
--------------------------------------------------------------------------------
--- Table-Cell Editor
--------------------------------------------------------------------------------
</dtml-comment>
<dtml-let custom="[]"
><dtml-call "custom.append('<td class=\042form-text\042>'+getZMILangStr('ATTR_FORMAT')+'</td>')"
><dtml-call "custom.append('<td>'+f_selectInput(_,_,fmName=fmName,elName='tag',value='',type='select',lang_str=getZMILangStr('ATTR_FORMAT'),required=1,options=['th','td'],enabled=True,css='form-element',REQUEST=REQUEST)+'</td>')"
><dtml-call "custom.append('<td class=\042form-text\042>'+getZMILangStr('ATTR_PARAGRAPH')+'</td>')"
><dtml-call "custom.append('<td>'+f_selectTextformat(_,_)+'</td>')"
><div style="display:none;"
><div id="div_table_cell_editor" class="zmiNeutralColorMedium0" style="width:699px;"
><dtml-var "f_selectRichtext(_,_,ob=this(),fmName=fmName,elName='content_editor',cols=25,rows=10,value='',key='cell',enabled=True,lang=lang,lang_str=getZMILangStr('ACTION_EDIT_CELL'),custom_str=''.join(custom),REQUEST=REQUEST,css='form-small',wrap='virtual')"
><input class="ui-button ui-state-default ui-corner-all" type="submit" value="<dtml-var "getZMILangStr('BTN_CHANGE')">" onclick="return table_cell_change();"
><input class="ui-button ui-state-default ui-corner-all" type="submit" value="<dtml-var "getZMILangStr('BTN_CANCEL')">" onclick="return table_cell_cancel();"
></div
></div
></dtml-let>

<dtml-comment>
--------------------------------------------------------------------------------
--- Table-Cell Grid
--------------------------------------------------------------------------------
</dtml-comment>
<dtml-let table_table="attr('table')" table_type="attr('type')" table_colgroup_cols="attr('cols')" table_cols="len(table_table[-1])" table_rows="len(table_table)" table_widths="attr('widths')">

<script language="JavaScript">
<!--//

var table_cell_uid = <dtml-var "table_cols*table_rows">;
var table_cell_id = '';
var table_cell_bgcolor = null;
var table_cell_offs = 2;

function onZMSTableFormSubmit()
{
  var xml;
  xml = '';
  xml += '<list>\n';
  var el_tbody = $($("#table_cell_editor").children()[0]);
  var el_trs = el_tbody.children().filter(":gt(1)").filter(":not(:last)");
  for ( var i=0; i < el_trs.length; i++) {
    xml += "<item type=\"list\"><list>\n";
    var el_tds = $(el_trs[i]).children().filter(":gt(1)").filter(":not(:last)");
    for ( var j=0; j < el_tds.length; j++) {
      xml += "<item type=\"dictionary\"><dictionary>\n";
      var colspan = $(el_tds[j]).attr("colspan");
      
      if ( colspan) {
        xml += '<item key="colspan" type="int">'+colspan+'</item>\n';
        var el_inputs = $("textarea,input",el_tds[j]);
        for ( var k=0; k < el_inputs.length; k++) {
          var key = el_inputs[k].id.substr(0,el_inputs[k].id.indexOf("_"));
          xml += '<item key="'+key+'"><![CDATA'+'['+$(el_inputs[k]).val()+']'+']></item>\n';
        }
      }
      else {
        xml += '<item key="colspan" type="int">1</item>\n';
      }
      xml += '</dictionary></item>\n';
    }
    xml += '</list></item>\n';
  }
  xml += '</list>\n';
  $("#table_table").val( xml);
  xml = '';
  xml += '<list>\n';
  var el_trs = el_tbody.children().filter(":eq(1)");
  for ( var i=0; i < el_trs.length; i++) {
    var el_inputs = $("input:text",el_trs[i]);
    for ( var j = 0; j < el_inputs.length; j++) {
      xml += '<item type="string">'+$(el_inputs[j]).val()+'</item>\n';
    }
  }
  xml += '</list>\n';
  $("#table_colgroup_cols").val( xml);
  return onFormSubmit('<dtml-var fmName>');
}

function table_cell_edit(el_td)
{
	var el = $('textarea',el_td);
	var el_name = el.attr('name');
	table_cell_id = el_name.substr(el_name.indexOf('_')+1);
	// Set cell background.
	if (table_cell_bgcolor==null) {
		table_cell_bgcolor = el_td.css( "backgroundColor");
	}
	el_td.css( "backgroundColor", "red");
	// Apply values.
	$('#zmiRichtextEditor<dtml-var elName>').hide();
	$('#zmiStandardEditor<dtml-var elName>').show();
	$('#content_editor').val($('#content_'+ table_cell_id).val());
	$('#tag').val($('#tag_'+ table_cell_id).val());
	$('#format').val($('#format_'+ table_cell_id).val());
	<dtml-let elName="'content_editor'">
	<dtml-if "REQUEST.get('richedit_fmt')">
	if ( $('#format').val()=='<dtml-var "REQUEST.get('richedit_fmt').getId()">') {
		$('#zmiRichtextEditor<dtml-var elName>').show();
		$('#zmiStandardEditor<dtml-var elName>').hide();
		zmiStandardOnSubmitEventHandler();
	}
	</dtml-if>
	</dtml-let>
	// Open cell editor.
	$('#div_table_cell_editor').dialog({
			title:'<dtml-var "getZMILangStr('ATTR_COL')">: <dtml-var "getZMILangStr('BTN_EDIT')">',
			width:'auto',
			height:'auto',
			modal:true
	});
}

function table_cell_change()
{
	<dtml-if "REQUEST.get('richedit_fmt')">
	if ( $('#format').val()=='<dtml-var "REQUEST.get('richedit_fmt').getId()">') {
		zmiRichtextOnSubmitEventHandler();
		$('#input_'+ table_cell_id).hide();
		$('#preview_'+ table_cell_id).show();
	}
	else {
		$('#input_'+ table_cell_id).show();
		$('#preview_'+ table_cell_id).hide();
	}
	</dtml-if>
  $('#format_'+ table_cell_id).val($('#format').val());
  $('#tag_'+ table_cell_id).val($('#tag').val());
  $('#content_'+ table_cell_id).val($('#content_editor').val());
  $('#preview_'+ table_cell_id).html($('#content_editor').val());
  return table_cell_cancel();
}

function table_cell_cancel()
{
	// Reset cell background.
	var el_td = $('#content_'+ table_cell_id).parents(".table_cell_editable");
	el_td.css( "backgroundColor", table_cell_bgcolor);
	table_cell_bgcolor = null;
	// Close cell editor.
	$('#div_table_cell_editor').dialog('close');
	return false;
}

function table_cell_init()
{
  $("form[name=<dtml-var fmName>] input[type=hidden]+textarea").change( function () { $(this).parents(".table_cell_editable").css( 'backgroundColor', '#FFFFE8');});
  $("form[name=<dtml-var fmName>] .table_cell_editable").dblclick( function () { table_cell_edit($(this));});
}

function actionBtnClick(el, fct)
{
  var x = 0;
  var el_td = $($(el).parents("td")[1]);
  while ( el_td.prev().length > 0) {
    x++;
    el_td = $(el_td.prev()[0]);
  }
  var y = 0;
  var el_tr = $(el_td.parent("tr"));
  while ( el_tr.prev().length > 0) {
    y++;
    el_tr = $(el_tr.prev()[0]);
  }
  var el_tbody = $($(el).parents("tbody")[1]);
  el_tbody.children().filter(":eq(1)").children().filter(":gt(1)").filter(":not(:last)").html("&nbsp;");
  //////////////////////////////////////////////////////////////////////////////
  /// DELETE
  //////////////////////////////////////////////////////////////////////////////
  if (fct.indexOf('delete') == 0) {
    if (confirm("<dtml-var "getZMILangStr('MSG_CONFIRM_DELOBJ')">")) {
      if (fct.indexOf('delete_col') == 0) {
        var el_trs = el_tbody.children();
        for ( var i = 0; i < el_trs.length; i++) {
          if ( i == table_cell_offs && <dtml-var table_type> == 2) {
            var el_td = $($(el_trs[i]).children().filter(":eq("+table_cell_offs+")")[0]);
            el_td.attr("colspan",parseInt(el_td.attr("colspan"))-1);
          }
          else {
            var el_td = $($(el_trs[i]).children().filter(":eq("+x+")")[0]);
            el_td.remove();
          }
        }
        $('#cols').val( parseInt($('#cols').val())-1);
      }
      else if (fct.indexOf('delete_row') == 0) {
        var el_tr = $(el_tbody.children().filter(":eq("+y+")")[0]);
        el_tr.remove();
        $('#rows').val( parseInt($('#rows').val())-1);
      }
    }
  }
  //////////////////////////////////////////////////////////////////////////////
  /// INSERT
  //////////////////////////////////////////////////////////////////////////////
  else if (fct.indexOf('insert_col') == 0) {
    var el_trs = el_tbody.children();
    for ( var i = 0; i < el_trs.length; i++) {
      if ( i == table_cell_offs && <dtml-var table_type> == 2) {
        var el_td = $($(el_trs[i]).children().filter(":eq("+table_cell_offs+")")[0]);
        el_td.attr("colspan",parseInt(el_td.attr("colspan"))+1);
      }
      else {
        var el_tds = $(el_trs[i]).children();
        var el_td = $(el_tds.filter(":eq("+x+")")[0]);
        var new_td = $(el_tds[el_tds.length-2]).clone();
        var el_inputs = $("textarea,input",new_td);
        for ( var k = 0; k < el_inputs.length; k++) {
          var key = el_inputs[k].id.substr(0,el_inputs[k].id.indexOf("_"));
          $(el_inputs[k]).attr( "id", key+"_" + table_cell_uid);
          $(el_inputs[k]).attr( "name", key+"_" + table_cell_uid);
          if ( key.indexOf("format") == 0) {
            $(el_inputs[k]).val( "<dtml-var "getTextFormatDefault()">");
          }
          else if ( key.indexOf("content") == 0) {
            $(el_inputs[k]).val( "");
            $(el_inputs[k]).css( 'border', '2px solid #00FF00');
          }
          table_cell_uid++;
        }
        new_td.insertBefore( el_td);
      }
    }
    $('#cols').val( parseInt($('#cols').val())+1);
    table_cell_init();
  }
  else if (fct.indexOf('insert_row') == 0) {
    var el_trs = el_tbody.children();
    var el_tr = $(el_trs.filter(":eq("+y+")")[0]);
    var new_tr = $(el_trs[el_trs.length-2]).clone();
    var el_inputs = $("textarea,input",new_tr);
    for ( var k = 0; k < el_inputs.length; k++) {
      var key = el_inputs[k].id.substr(0,el_inputs[k].id.indexOf("_"));
      $(el_inputs[k]).attr( "id", key+"_" + table_cell_uid);
      $(el_inputs[k]).attr( "name", key+"_" + table_cell_uid);
      if ( key.indexOf("format") == 0) {
        $(el_inputs[k]).val( "<dtml-var "getTextFormatDefault()">");
      }
      else if ( key.indexOf("content") == 0) {
        $(el_inputs[k]).val( "");
        $(el_inputs[k]).css( 'border', '2px solid #00FF00');
      }
      table_cell_uid++;
    }
    new_tr.insertBefore( el_tr);
    $('#rows').val( parseInt($('#rows').val())-1);
    table_cell_init();
  }
  //////////////////////////////////////////////////////////////////////////////
  /// MOVE
  //////////////////////////////////////////////////////////////////////////////
  else if (fct.indexOf('move_col') == 0) {
    var source_x = x;
    var target_x = x;
    if (fct == 'move_col_left')
      target_x = target_x - 1;
    else
      target_x = target_x + 1;
    var el_trs = el_tbody.children().filter(":gt(1)").filter(":not(:last)");
    for ( var i = 0; i < el_trs.length; i++) {
      var source_td = $($(el_trs[i]).children().filter(":eq("+source_x+")")[0]);
      var source_inp = $("textarea,input",source_td);
      var target_td = $($(el_trs[i]).children().filter(":eq("+target_x+")")[0]);
      var target_inp = $("textarea,input",target_td);
      for ( var j = 0; j < source_inp.length; j++) {
        var v = $(source_inp[j]).val();
        $(source_inp[j]).val( $(target_inp[j]).val());
        $(target_inp[j]).val( v);
      }
    }
  }
  else if (fct.indexOf('move_row') == 0) {
    var source_y = y;
    var target_y = y;
    if (fct == 'move_row_up')
      target_y = target_y - 1;
    else
      target_y = target_y + 1;
    var source_tr = $(el_tbody.children().filter(":eq("+source_y+")")[0]);
    var source_inp = $("textarea,input",source_tr);
    var target_tr = $(el_tbody.children().filter(":eq("+target_y+")")[0]);
    var target_inp = $("textarea,input",target_tr);
    for ( var j = 0; j < source_inp.length; j++) {
      var v = $(source_inp[j]).val();
      $(source_inp[j]).val( $(target_inp[j]).val());
      $(target_inp[j]).val( v);
    }
  }
  else {
    var par = Math.max(x,y)-table_cell_offs;
    var fm = document.forms['<dtml-var fmName>'];
    fm.elements['function'].value = fct;
    fm.elements['param'].value = par;
    fm.submit();
  }
}


$(function(){
	$("form[name=<dtml-var fmName>]").submit( onZMSTableFormSubmit);
	table_cell_init();
});

//-->
</script>

<img src="<dtml-var spacer_gif>" alt="" border="0" height="2"/>
<table id="table_cell_editor" cellspacing="0" cellpadding="0" border="0">
<tr valign="middle" class="zmiNeutralColorStrong0">
 <td>&nbsp;</td>
 <td><img src="<dtml-var spacer_gif>" width="8" height="1" border="0"></td>
 <dtml-in "range(table_cols)">
  <td
   ><table cellspacing="0" cellpadding="0" border="0"
   ><tr
    ><dtml-if "not _['sequence-start'] or table_type==1"><td><a href="#" class="button"><img src="<dtml-var MISC_ZMS>btn_add.gif" border="0" title="<dtml-var "getZMILangStr('ACTION_INSERT_COL')">" onclick="actionBtnClick(this,'insert_col')" class="button"/></a></td></dtml-if
    ><td><a href="#" class="vbutton"><img src="<dtml-var MISC_ZMS>btn_arr_left.gif" title="<dtml-var "getZMILangStr('ACTION_MOVELEFT')">" border="0" onclick="actionBtnClick(this,'move_col_left')" class="vbutton"/></a></td
    ><td><a href="#" class="vbutton"><img src="<dtml-var MISC_ZMS>btn_arr_right.gif" title="<dtml-var "getZMILangStr('ACTION_MOVERIGHT')">" border="0" onclick="actionBtnClick(this,'move_col_right')" class="vbutton"/></a></td
    ><dtml-if "not _['sequence-start'] or table_type==1"><td><a href="#" class="button"><img src="<dtml-var MISC_ZMS>btn_trashcan1.gif" border="0" title="<dtml-var "getZMILangStr('ACTION_DELETE_COL')">" onclick="actionBtnClick(this,'delete_col')" class="button"/></a></td></dtml-if
   ></tr
   ></table
  ></td>
 </dtml-in>
 <td
   ><table cellspacing="0" cellpadding="0" border="0"
   ><tr valign="middle"
    ><td><a href="#" class="button"><img src="<dtml-var MISC_ZMS>btn_add.gif" border="0" title="<dtml-var "getZMILangStr('ACTION_INSERT_COL')">" onclick="actionBtnClick(this,'insert_col')" class="button"/></a></td
    ><td><img src="<dtml-var spacer_gif>" width="8" height="1" border="0"></td
   ></tr
   ></table
 ></td>
</tr>

<tr>
 <td class="zmiNeutralColorStrong0" align="right"><div class="form-label">Colgroup</div></td>
 <td style="border-right: solid 1px #CCCCCC;"><dtml-var "getCheckbox(fmName=fmName,elName='colgroup',value=attr('colgroup'),enabled=True,REQUEST=REQUEST)"></td>
 <dtml-in "range(table_cols)">
  <dtml-let col_index=sequence-index>
   <td class="form-small" align="center" style="border-right: solid 1px #CCCCCC; border-bottom: solid 1px <dtml-if "table_type==4 and _['sequence-start']">#CCCCCC;<dtml-else>black;</dtml-if>">
    <dtml-if "attr('colgroup')">
     <input class="form-small" type="text" name="col<dtml-var col_index>" size="3" value="<dtml-if "col_index<len(table_colgroup_cols)"><dtml-var "table_colgroup_cols[col_index]"></dtml-if>" style="text-align:right;"/>
     (&Oslash;=<dtml-var "table_widths[col_index]">)%
    <dtml-else>
     &nbsp;
    </dtml-if>
   </td>
  </dtml-let>
</dtml-in>
 <td>&nbsp;</td>
</tr>

<dtml-in "range(table_rows)"
 ><dtml-let row_index=sequence-index
 ><tr valign="middle">
  <td class="zmiNeutralColorStrong0">
   <table cellspacing="0" cellpadding="0" border="0"
   ><tr valign="middle"
    ><dtml-if "not _['sequence-start'] or table_type==3"><td rowspan="2"><a href="#" class="button"><img src="<dtml-var MISC_ZMS>btn_add.gif" border="0" title="<dtml-var "getZMILangStr('ACTION_INSERT_ROW')">" onclick="actionBtnClick(this,'insert_row')" class="button"/></a></td></dtml-if
    ><td><a href="#" class="hbutton"><img src="<dtml-var MISC_ZMS>btn_arr_up.gif" title="<dtml-var "getZMILangStr('ACTION_MOVEUP')">" border="0" onclick="actionBtnClick(this,'move_row_up')" class="hbutton"/></a></td
    ><dtml-if "not _['sequence-start'] or table_type==3"><td rowspan="2"><a href="#" class="button"><img src="<dtml-var MISC_ZMS>btn_trashcan1.gif" border="0" title="<dtml-var "getZMILangStr('ACTION_DELETE_ROW')">" onclick="actionBtnClick(this,'delete_row')" class="button"/></a></td></dtml-if
   ></tr
   ><tr valign="middle"
    ><td><a href="#" class="hbutton"><img src="<dtml-var MISC_ZMS>btn_arr_down.gif" title="<dtml-var "getZMILangStr('ACTION_MOVEDOWN')">" border="0" onclick="actionBtnClick(this,'move_row_down')" class="hbutton"/></a></td
   ></tr
   ></table
  ></td
  ><td style="border-top: solid 1px #CCCCCC; border-right: solid 1px <dtml-if "table_type==4 and _['sequence-start']">#CCCCCC;<dtml-else>black;</dtml-if>;">&nbsp;</td
  ><dtml-in "table_table[row_index]" mapping
   ><dtml-let col_index=sequence-index cell=sequence-item
    ><dtml-if "table_type==4 and row_index==0 and col_index==0"
     ><td style="border-right: solid 1px black;border-bottom: solid 1px black;">&nbsp;</td
    ><dtml-else
     ><td style="border-top: solid 1px #CCCCCC;border-right: solid 1px white;border-bottom: solid 1px white;border-left: solid 1px #CCCCCC;" colspan="<dtml-var colspan>">
      <div class="ZMSTable">
       <table style="width:100%" class="ZMSTable">
       <tr>
       <<dtml-var tag> title="onDblClick: <dtml-var "getZMILangStr('ACTION_EDIT_CELL')">" class="table_cell_editable">
        <div id="input_<dtml-var col_index>_<dtml-var row_index>" <dtml-if "REQUEST.get('richedit_fmt') is not None and format==REQUEST.get('richedit_fmt').getId()">style="display:none;"</dtml-if>>
         <input type="hidden" id="tag_<dtml-var col_index>_<dtml-var row_index>" value="<dtml-var tag>">
         <input type="hidden" id="format_<dtml-var col_index>_<dtml-var row_index>" value="<dtml-var format>">
         <dtml-var "getTextArea(fmName,'content_%i_%i'%(col_index,row_index),10,1,value=content,enabled=True,REQUEST=REQUEST,css='form-element',extra=' style=\042border:none;background-color:transparent;width:100%;'+QUOT)">
        </div>
        <div id="preview_<dtml-var col_index>_<dtml-var row_index>" <dtml-if "REQUEST.get('richedit_fmt') is None or format!=REQUEST.get('richedit_fmt').getId()">style="display:none;"</dtml-if>>
         <dtml-if content><dtml-var content><dtml-else>&nbsp;</dtml-if>
        </div>
       </<dtml-var tag>>
       </tr>
       </table>
      </div>
     </td
    ></dtml-if
   ></dtml-let
  ></dtml-in
  ><td style="border-left: solid 1px black; border-top: solid 1px #CCCCCC; border-right: solid 1px #CCCCCC;">&nbsp;</td
 ></tr
 ></dtml-let
></dtml-in>

<tr valign="middle">
 <td class="zmiNeutralColorStrong0">
   <table cellspacing="0" cellpadding="0" border="0">
   <tr valign="middle">
    <td><a href="#" class="button"><img src="<dtml-var MISC_ZMS>btn_add.gif" border="0" title="<dtml-var "getZMILangStr('ACTION_INSERT_ROW')">" onclick="actionBtnClick(this,'insert_row')" class="button"/></a></td>
   </tr>
   </table>
 </td>
 <td style="border-top: solid 1px #CCCCCC;">&nbsp;</td>
 <dtml-in "range(table_cols)">
  <td style="border-left: solid 1px #CCCCCC; border-top: solid 1px black; border-bottom: solid 1px #CCCCCC;">&nbsp;</td>
 </dtml-in>
 <td style="border-left: solid 1px #CCCCCC; border-top: solid 1px #CCCCCC;">&nbsp;</td>
</tr>

</table>

<input type="hidden" id="cols" value="<dtml-var table_cols>"/>
<input type="hidden" id="rows" value="<dtml-var table_rows>"/>

</dtml-let>

</dtml-if>

<input type="hidden" id="table_table" name="table_<dtml-var lang>" value="<list></list>"/>
<input type="hidden" id="table_colgroup_cols" name="cols_<dtml-var lang>" value="<list></list>"/>
<dtml-call "REQUEST.set('ZMS_HIDE_ELEMENTS',REQUEST.get('ZMS_HIDE_ELEMENTS',[])+['type','table','colgroup','cols'])">]]>
                  </item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[interface]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="default"><![CDATA[1]]></item>
                  <item key="id"><![CDATA[type]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Type]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[int]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[table]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Table]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[list]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="default"><![CDATA[1]]></item>
                  <item key="id"><![CDATA[colgroup]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Colgroup]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[boolean]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[cols]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Cols]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[list]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[## Script (Python) "ZMSTable.titlealt"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=zmscontext
##title=py: DC.Title.Alt
##
# --// BO titlealt //--

titlealt = zmscontext.attr('caption')
if titlealt:
    return titlealt
return zmscontext.display_type(zmscontext.REQUEST)

# --// EO titlealt //--
]]>
                  </item>
                  <item key="id"><![CDATA[titlealt]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[DC.Title.Alt]]></item>
                  <item key="py"><![CDATA[<PythonScript at ZMSTable.titlealt>]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[py]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[## Script (Python) "ZMSTable.widths"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=zmscontext
##title=py: Col-Widths [list]
##
# --// BO widths //--

REQUEST = zmscontext.REQUEST
table = zmscontext.attr('table')
ncols = max(map(lambda x: len(x), table))
weights = map(lambda x: 1, range( ncols))
for row in table:
    i = 0
    for cell in row:
        weight = len(zmscontext.re_sub('<(.*?)>', '',zmscontext.dt_html(cell.get('content',''),REQUEST)))
        weights[i] = weights[i] + weight
        i += 1
return map(lambda x: int((x*100.0)/sum(weights)), weights)

# --// EO widths //--
]]>
                  </item>
                  <item key="id"><![CDATA[widths]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Col-Widths [list]]]></item>
                  <item key="py"><![CDATA[<PythonScript at ZMSTable.widths>]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[py]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[## Script (Python) "ZMSTable.format"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=zmscontext
##title=py: contentEditable.Cell: Get format (@key)
##
# --// BO format //--

REQUEST = zmscontext.REQUEST
key = REQUEST.get('key')
if key:
    table = zmscontext.attr('table')
    col = int(key[key.find('_')+1:key.rfind('_')])
    row = int(key[key.rfind('_')+1:])
    return table[row][col]['format']
return ''

# --// EO format //--
]]>
                  </item>
                  <item key="id"><![CDATA[format]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[contentEditable.Cell: Get format (@key)]]></item>
                  <item key="py"><![CDATA[<PythonScript at ZMSTable.format>]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[py]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[## Script (Python) "ZMSTable.setObjProperty"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=zmscontext
##title=py: contentEditable.Cell: Set property (@pKey,@pValue)
##
# --// BO setObjProperty //--

REQUEST = zmscontext.REQUEST
key = REQUEST.get('pKey')
value = REQUEST.get('pValue')
if key.startswith('table_'):
    table = zmscontext.attr('table')
    col = int(key[key.find('_')+1:key.rfind('_')])
    row = int(key[key.rfind('_')+1:])
    table[row][col]['content'] = value
    lang = REQUEST.get('lang')
    zmscontext.setObjProperty('table',table_table,lang)

# --// EO setObjProperty //--
]]>
                  </item>
                  <item key="id"><![CDATA[setObjProperty]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[contentEditable.Cell: Set property (@pKey,@pValue)]]></item>
                  <item key="py"><![CDATA[<PythonScript at ZMSTable.setObjProperty>]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[py]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[<!-- bodyContentZMSCustom_ZMSTable -->

<span tal:omit-tag="" tal:define="global 
		zmscontext options/zmscontext;
		table         python:zmscontext.attr('table');
		cols          python:zmscontext.attr('cols');
		summary       python:unicode(zmscontext.attr('attr_dc_description'),'utf-8');
		caption       python:unicode(zmscontext.attr('caption'),'utf-8');
		align         python:zmscontext.attr('align').lower()">
	<table tal:attributes="id python:zmscontext.id; class python:zmscontext.meta_id; summary python:summary">
		<caption tal:attributes="align align" tal:content="structure caption">The caption</caption>
		<colgroup tal:condition="python:zmscontext.attr('colgroup')">
			<span tal:omit-tag="" tal:repeat="col python:zmscontext.attr('widths')">
				<span tal:omit-tag="" tal:define="col_index repeat/col/index">
					<col tal:condition="python:col_index<len(cols) and cols[col_index]" tal:attributes="width python:'%i%'%cols[col_index]"/>
					<col tal:condition="python:not (col_index<len(cols) and cols[col_index])" tal:attributes="width repeat/col"/>
				</span>
			</span>
		</colgroup>
		<span tal:omit-tag="" tal:repeat="row table">
			<span tal:omit-tag="" tal:condition="repeat/row/odd" tal:define="global tr_class python:'odd'"></span>
			<span tal:omit-tag="" tal:condition="repeat/row/even" tal:define="global tr_class python:'even'"></span>
			<tr tal:attributes="class tr_class">
				<span tal:omit-tag="" tal:repeat="column row">
					<span tal:omit-tag="" tal:define="
							row_index     repeat/row/index;
							col_index     repeat/column/index;
							tag           python:column['tag'];
							format        python:column['format'];
							content       python:column['content'];
							col_text      python:zmscontext.dt_html(zmscontext.renderText(format,'table_%i_%i'%(col_index,row_index),content,request),request)">
						<td tal:condition="python:str(tag).lower()=='td'">
							<span tal:omit-tag="" tal:condition="python:col_text" tal:content="structure col_text">The cell</span>
							<span tal:omit-tag="" tal:condition="python:not (col_text)">&nbsp;</span>
						</td>
						<th tal:condition="python:str(tag).lower()=='th'">
							<span tal:omit-tag="" tal:condition="python:col_text" tal:content="structure col_text">The cell</span>
							<span tal:omit-tag="" tal:condition="python:not (col_text)">&nbsp;</span>
						</th>
						<td tal:condition="python:str(tag).lower() not in ['td','th']" style="background:transparent;"></td>
					</span>
				</span>
			</tr>
		</span>
	</table>
</span>

<!-- /bodyContentZMSCustom_ZMSTable -->]]>
                  </item>
                  <item key="id"><![CDATA[bodyContentZMSCustom_ZMSTable]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Template: ZMSTable]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[zpt]]></item>
                  <item key="zpt"><![CDATA[<ZopePageTemplate at ZMSTable.bodyContentZMSCustom_ZMSTable>]]></item>
                </dictionary>
              </item>
            </list>
          </item>
          <item key="access" type="dictionary">
            <dictionary>
              <item key="delete" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="delete_custom"></item>
              <item key="edit" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="edit_custom"></item>
              <item key="insert" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="insert_custom"><![CDATA[{$}]]></item>
            </dictionary>
          </item>
          <item key="enabled" type="int">1</item>
          <item key="id"><![CDATA[ZMSTable]]></item>
          <item key="name"><![CDATA[ZMSTable]]></item>
          <item key="package"><![CDATA[com.zms.foundation]]></item>
          <item key="revision"><![CDATA[1.6.1]]></item>
          <item key="type"><![CDATA[ZMSObject]]></item>
        </dictionary>
      </item>
    </dictionary>
  </item>
  <item type="dictionary">
    <dictionary>
      <item key="key"><![CDATA[ZMSTeaserContainer]]></item>
      <item key="value" type="dictionary">
        <dictionary>
          <item key="__obj_attrs__" type="list">
            <list>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmsteasercontainer_16x16.gif" type="file">47494638396110001000b30000040284c48e0c848284fcee84fcfebcfc02fcfcd25cfcfe9c4c4e4c6c6e6cfcf274fcfeecfce26cfcfe84fcfed4fcfaac21f90401000005002c0000000010001000030470b084496b2858aecdfbba58e08c23408e5348ac00d102cf1a7cd273dc407edf62200483460eb018361a01422011381e8dcec061091c2800d701c0aa685219608636cce8229960433aac062e259680c13001bf256b867c694f64e2134c010802190502098989540985868f217790907711003b</data>
                  </item>
                  <item key="id"><![CDATA[icon]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmsteasercontainer_disabled_16x16.gif" type="file">47494638396110001000b300004c4e4c848284d4d6d4eceaece4e2e4f4f6f4fc02fcdcdedcf4f2f46c6e6c8c8e8cdcdadcfcfafceceeece4e6e40000ff21f90401000006002c000000001000100003046bd0a849ab3258b2cd3bbb98e225de14220c92a86cf17d1252206ab2a688a8040ad2d824204d97500c068801f098ec298a474742493d3a8b87c582b0486cb584ab62cb2d8317c6a7c4a210082684700213d0dadb4fae3ac47e4e000119060140367e0981828a7c738b8e7b11003b</data>
                  </item>
                  <item key="id"><![CDATA[icon_disabled]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon (Disabled)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[interface]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[<dtml-let
  teaserCntnr="this()"
  bgcolor_border="teaserCntnr.getObjProperty('attr_bgcolor_border',REQUEST)"
  bgcolor_title="teaserCntnr.getObjProperty('attr_bgcolor_title',REQUEST)"
  bgcolor_text="teaserCntnr.getObjProperty('attr_bgcolor_text',REQUEST)"
  element="[]">

<dtml-call "element.append('<div class=\'ZMSTeaserElement\' style=\'width:30px;\'>')">
<dtml-call "element.append('<div align=\'center\' class=\'title\'')">
<dtml-if bgcolor_title><dtml-call "element.append(' style=\'background-color:%s\''%get_colormap().get(bgcolor_title,'transparent'))"></dtml-if>
<dtml-call "element.append('><img src=\'%s\' title=\'%s\' border=\'0\' width=\'24\' height=\'4\'></div>'%(spacer_gif,getZMILangStr('ATTR_TITLE')))">
<dtml-call "element.append('<div align=\'center\' class=\'text\'')">
<dtml-if bgcolor_text><dtml-call "element.append(' style=\'background-color:%s\''%get_colormap().get(bgcolor_text,'transparent'))"></dtml-if>
<dtml-call "element.append('><img src=\'%s\' title=\'%s\' border=\'0\' width=\'24\' height=\'4\'></div>'%(spacer_gif,getZMILangStr('ATTR_TEXT')))">
<dtml-call "element.append('</div>')">
<dtml-let element_icon="''.join(element)">

<dtml-var "f_headline(_,_,headline=getZMILangStr('ATTR_BORDERSTYLE'))">

<table cellspacing="2" cellpadding="1" border="0">
<tr valign="top">

<dtml-comment> ##### Border-Style 1=SOLID ##### </dtml-comment>
   <td>
    <div class="form-element">
     <input class="form-radio" type="radio" name="attr_borderstyle:int" value="1"<dtml-if "getObjProperty('attr_borderstyle',REQUEST)==1"> checked="checked"</dtml-if>/>
     <dtml-var "getZMILangStr('OPT_AB_SOLID')">&nbsp;
    </div>
   </td>
   <td>
    <div id="Teaser" style="width:30px;">
     <div class="ZMSTeaserContainer" style="width:30px;margin-bottom:4px;<dtml-if bgcolor_border>background-color: <dtml-var "get_colormap().get(bgcolor_border,'black')">;</dtml-if>">
      <dtml-var element_icon>
      <dtml-var element_icon>
      <dtml-var element_icon>
     </div>
    </div>
   </td>

<dtml-comment> ##### Border-Style 2=SINGLE ##### </dtml-comment>
   <td>
    <div class="form-element">
     <input class="form-radio" type="radio" name="attr_borderstyle:int" value="2"<dtml-if "getObjProperty('attr_borderstyle',REQUEST)==2"> checked="checked"</dtml-if>/>
     <dtml-var "getZMILangStr('OPT_AB_SINGLE')">&nbsp;
    </div>
   </td>
   <td>
    <div id="Teaser" style="width:30px;">
     <div class="ZMSTeaserContainer" style="width:30px;margin-bottom:4px;<dtml-if bgcolor_border>background-color: <dtml-var "get_colormap().get(bgcolor_border,'black')">;</dtml-if>">
      <dtml-var element_icon>
     </div>
     <div class="ZMSTeaserContainer" style="width:30px;margin-bottom:4px;<dtml-if bgcolor_border>background-color: <dtml-var "get_colormap().get(bgcolor_border,'black')">;</dtml-if>">
      <dtml-var element_icon>
     </div>
     <div class="ZMSTeaserContainer" style="width:30px;margin-bottom:4px;<dtml-if bgcolor_border>background-color: <dtml-var "get_colormap().get(bgcolor_border,'black')">;</dtml-if>">
      <dtml-var element_icon>
     </div>
    </div>
   </td>

<dtml-comment> ##### Border-Style 3=NONE ##### </dtml-comment>
   <td>
    <div class="form-element">
     <input class="form-radio" type="radio" name="attr_borderstyle:int" value="3"<dtml-if "getObjProperty('attr_borderstyle',REQUEST)==3"> checked="checked"</dtml-if>/>
     <dtml-var "getZMILangStr('OPT_AB_NONE')">&nbsp;
    </div>
   </td>
   <td>
    <div id="Teaser" style="width:30px;">
     <dtml-var element_icon>
     <dtml-var element_icon>
     <dtml-var element_icon>
    </div>
   </td>

</tr>
</table>

<dtml-call "REQUEST.set('ZMS_HIDE_ELEMENTS',REQUEST.get('ZMS_HIDE_ELEMENTS',[])+['attr_borderstyle'])">

<dtml-var "f_headline(_,_,headline=getZMILangStr('ATTR_BGCOLORS'))">

</dtml-let>
</dtml-let>]]>
                  </item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[interface]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="default"><![CDATA[1]]></item>
                  <item key="id"><![CDATA[attr_borderstyle]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Border-Style]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[int]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="default"><![CDATA[primColorStrong0]]></item>
                  <item key="id"><![CDATA[attr_bgcolor_border]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Background-Color (Border)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[color]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="default"><![CDATA[primColorLight0]]></item>
                  <item key="id"><![CDATA[attr_bgcolor_title]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Background-Color (Title)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[color]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="default"><![CDATA[neutralColorWhite]]></item>
                  <item key="id"><![CDATA[attr_bgcolor_text]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Background-Color (Text)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[color]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[e]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[ZMSFile]]></item>
                      <item><![CDATA[ZMSLinkElement]]></item>
                      <item><![CDATA[type(ZMSTeaserElement)]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Teaser-Elements]]></item>
                  <item key="repetitive" type="int">1</item>
                  <item key="type"><![CDATA[*]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[## Script (Python) "getTeaserElements"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=
##title=Function: Teaser-Elements
##
# --// BO getTeaserElements //--

request = container.REQUEST
teaserElmnts = []
obs = context.breadcrumbs_obj_path(portalMaster=False)
obs.reverse()
this = context.getSelf()
for ob in obs:
  abort_penetrance = ob != this and ob.meta_type == 'ZMSLinkElement'
  if abort_penetrance:
    break
  temp = []
  subobs = ob.filteredChildNodes( request, ['ZMSCustom','ZMSTeaserContainer'])
  for subob in subobs:
    if subob.meta_id == 'ZMSTeaserContainer':
      temp.extend( subob.filteredChildNodes( request))
    elif subob.getType() == 'ZMSTeaserElement':
      temp.append( subob)
  for teaserElmnt in temp:
    penetrance = teaserElmnt.getObjProperty('attr_penetrance',request)
    if ( penetrance in [0,'this',''] and context == ob) or \
       ( penetrance in [1,'sub_nav'] and context.meta_id in ['ZMS','ZMSFolder']) or \
       ( penetrance in [2,'sub_all']):
      teaserElmnts.insert( 0, teaserElmnt)
  abort_penetrance = ob.getObjProperty('attr_zmsteasercontainer_abort_penetrance',request) not in ['',0]
  if abort_penetrance:
    break
teaserElmnts.reverse()
return teaserElmnts

# --// EO getTeaserElements //--
]]>
                  </item>
                  <item key="id"><![CDATA[getTeaserElements]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Function: Teaser-Elements]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[Script (Python)]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[<dtml-comment>--// BO pageelement_Teaser //--</dtml-comment
><dtml-call "REQUEST.set('last_borderstyle',None)"
><dtml-call "REQUEST.set('last_bgcolor_border',None)"
><dtml-let teaserElmnts=getTeaserElements
 ><dtml-if teaserElmnts
  ><div id="teaser"><dtml-in teaserElmnts
   ><dtml-let teaserElmnt=sequence-item teaserCntnr="teaserElmnt.getParentNode()"
    ><dtml-call "REQUEST.set('borderstyle',teaserCntnr.attr('attr_borderstyle'))"
    ><dtml-call "REQUEST.set('bgcolor_border',teaserCntnr.attr('attr_bgcolor_border'))"
    ><dtml-call "REQUEST.set('bgcolor_title',teaserCntnr.attr('attr_bgcolor_title'))"
    ><dtml-call "REQUEST.set('bgcolor_text',teaserCntnr.attr('attr_bgcolor_text'))"
    ><dtml-if "last_borderstyle != borderstyle or
               last_bgcolor_border != bgcolor_border or
               borderstyle==2"
     ><dtml-if "last_borderstyle is not None and last_bgcolor_border is not None "
      ><dtml-if "last_borderstyle != 3"
       ></div
      ></dtml-if
     ></dtml-if
     ><dtml-if "borderstyle != 3"
      ><div class="<dtml-var "teaserCntnr.meta_id">"<dtml-if bgcolor_border> style="background-color: <dtml-var "get_colormap().get(bgcolor_border,'black')">;"</dtml-if>
     ></dtml-if
    ></dtml-if
    ><dtml-if "meta_id in ['ZMSLinkElement','ZMSFile','ZMSTeaserElement']"
     ><dtml-var pageelement_TeaserElement
    ><dtml-else
     ><div class="ZMSTeaserElement"<dtml-if bgcolor_text> style="background-color:<dtml-var "get_colormap().get(bgcolor_text,'transparent')">"</dtml-if>
     ><dtml-var "_['bodyContentZMSCustom_%s'%meta_id]"
     ></div
    ></dtml-if
    ><dtml-call "REQUEST.set('last_borderstyle',borderstyle)"
    ><dtml-call "REQUEST.set('last_bgcolor_border',bgcolor_border)"
   ></dtml-let
  ></dtml-in
  ><dtml-if "last_borderstyle is not None  and last_bgcolor_border is not None "
   ><dtml-if "last_borderstyle != 3"
    ></div
   ></dtml-if
  ></dtml-if
  ></div
 ></dtml-if
></dtml-let
><dtml-comment>--// EO pageelement_Teaser //--</dtml-comment>]]>
                  </item>
                  <item key="id"><![CDATA[pageelement_Teaser]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Template: Teaser]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[DTML Method]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[<dtml-comment>--// BO renderShort //--</dtml-comment>

 <dtml-in "getChildNodes(REQUEST)"
  ><dtml-let teaserElmnt=sequence-item manage_main="'%s/manage_main?lang=%s'%(teaserElmnt.absolute_url(),REQUEST['lang'])"
   ><div class="form-small"
    ><a href="<dtml-var manage_main>"><img src="<dtml-var MISC_ZMS>internal_link.gif" width="16" height="16" title="<dtml-var "getZMILangStr('CAPTION_EDIT')%teaserElmnt.display_type(REQUEST)">" border="0" align="absmiddle"/></a
     ><dtml-let
       url="getLinkUrl(teaserElmnt.attr('attr_url'))"
       img_src="teaserElmnt.attr('attr_img_src')+'?'"
       title="teaserElmnt.attr('title')"
       abstract="search_quote(teaserElmnt.attr('attr_abstract'))"
      ><dtml-if title
       ><dtml-if url
        ><a href="<dtml-var url>" target="_blank" class="zmi"><b><dtml-var title></b></a
       ><dtml-else
        ><b><dtml-var title></b
       ></dtml-if
      >:<dtml-else
       ><dtml-if img_src
        ><i>&laquo;<dtml-var "img_src[img_src.rfind('/')+1:img_src.find('?')]">&raquo;</i><br/>
       </dtml-if
      ></dtml-if
      ><dtml-var abstract><br/>
     </dtml-let
   ></div
  ></dtml-let
 ></dtml-in>

<dtml-comment>--// EO renderShort //--</dtml-comment>]]>
                  </item>
                  <item key="id"><![CDATA[renderShort]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[ZMI: Render short]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[method]]></item>
                </dictionary>
              </item>
            </list>
          </item>
          <item key="access" type="dictionary">
            <dictionary>
              <item key="delete" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="delete_custom"></item>
              <item key="edit" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="edit_custom"></item>
              <item key="insert" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="insert_custom"><![CDATA[{$}]]></item>
            </dictionary>
          </item>
          <item key="enabled" type="int">1</item>
          <item key="id"><![CDATA[ZMSTeaserContainer]]></item>
          <item key="name"><![CDATA[ZMSTeaserContainer]]></item>
          <item key="package"><![CDATA[com.zms.foundation]]></item>
          <item key="revision"><![CDATA[1.1.0]]></item>
          <item key="type"><![CDATA[ZMSObject]]></item>
        </dictionary>
      </item>
    </dictionary>
  </item>
  <item type="dictionary">
    <dictionary>
      <item key="key"><![CDATA[ZMSTeaserElement]]></item>
      <item key="value" type="dictionary">
        <dictionary>
          <item key="__obj_attrs__" type="list">
            <list>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmsteaserelement_16x16.gif" type="file">47494638396110001000b30000040284c48e0cfcf88cfcfed5fcca54fcf173fcfaacfcfeedfce270fc02fcfcfe84fcee84fcfebdfcd664fcfe9cfcfefc21f90401000009002c000000001000100003045330c949eb0c38eb40c3f960787052309c27809e64123030c0c832dc0686a303bca23b378182073810158a2072d85bde168502404a8dde10588434abbd36b05f44b8d1726d020d72d95222acd9a537dc35af2722003b</data>
                  </item>
                  <item key="id"><![CDATA[icon]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmsteaserelement_disabled_16x16.gif" type="file">47494638396110001000b30000fc02fc8c8e8ccccecce4e6e4f4f2f4dcdadceceeecfcfafce4e2e4d4d6d4eceaecf4f6f4dcdedc0000ff0000ff0000ff21f90401000000002c000000001000100003045110c849eb0c38eb40c3f960787092179a200904c44178f0d2aa6cfb62eeb2d0c60d6384d745a130183284e2713850049c5084f3522820aa81ab1541b37ab5576e6713282430164b40a04a8fdde9363c1d01003b</data>
                  </item>
                  <item key="id"><![CDATA[icon_disabled]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon (Disabled)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_penetrance]]></item>
                  <item key="keys" type="list">
                    <list>
                      <item><![CDATA[this]]></item>
                      <item><![CDATA[sub_nav]]></item>
                      <item><![CDATA[sub_all]]></item>
                    </list>
                  </item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Penetrance]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[select]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="default"><![CDATA[2]]></item>
                  <item key="id"><![CDATA[displaytype]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Display-Type]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[int]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_url]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Url]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[url]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[attr_img]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Image]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[image]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[title]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Title]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[string]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[text]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Text]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[richtext]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[## Script (Python) "ZMSTeaserElement.attr_img_src"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=zmscontext
##title=py: Alias: Image
##
# --// BO attr_img_src //--

img = zmscontext.attr('attr_img')
if img:
    return img.getHref(zmscontext.REQUEST)
return ''

# --// EO attr_img_src //--
]]>
                  </item>
                  <item key="id"><![CDATA[attr_img_src]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Alias: Image]]></item>
                  <item key="py"><![CDATA[<PythonScript at ZMSTeaserElement.attr_img_src>]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[py]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[## Script (Python) "ZMSTeaserElement.attr_abstract"
##bind container=container
##bind context=context
##bind namespace=
##bind script=script
##bind subpath=traverse_subpath
##parameters=zmscontext
##title=py: Alias: Abstract
##
# --// BO attr_abstract //--

return zmscontext.attr('text')

# --// EO attr_abstract //--
]]>
                  </item>
                  <item key="id"><![CDATA[attr_abstract]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Alias: Abstract]]></item>
                  <item key="py"><![CDATA[<PythonScript at ZMSTeaserElement.attr_abstract>]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[py]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[<dtml-comment>--// BO pageelement_TeaserElement //--</dtml-comment

><dtml-let
  url="getLinkUrl(attr('attr_url'),REQUEST)"
  img_src_attr="attr('attr_img_src')"
  img_src="img_src_attr+'?'"
  img_filename="img_src[img_src.rfind('/')+1:img_src.find('?')]"
  abstract="attr('attr_abstract')"
><div class="ZMSTeaserElement"<dtml-if bgcolor_title> style="background-color:<dtml-var "get_colormap().get(bgcolor_title,'transparent')">"</dtml-if>

 ><dtml-comment>*** Use title only for href-more </dtml-comment
 ><dtml-call "REQUEST.set('title_url',attr('title'))"
 ><dtml-call "REQUEST.set('title_txt',title_url)"
 ><dtml-if "len(title_url) > 4 and title_url.startswith('__') and title_url.endswith('__')"
  ><dtml-call "REQUEST.set('title_url',title_url[2:-2])"
  ><dtml-call "REQUEST.set('title_txt','')"
 ></dtml-if

 ><dtml-comment>*** Title and Image </dtml-comment
 ><dtml-if "title_txt or img_filename"
  ><dtml-let
    displaytype="dctDisplaytype.get(str(attr('displaytype')),'left')"
    img="'<img class='+QUOT+'title'+QUOT+' src='+QUOT+img_src_attr+QUOT+' alt='+QUOT+title_txt+QUOT+' border='+QUOT+'0'+QUOT+'/>'"
  ><dtml-if "displaytype=='top'"
   ><dtml-if img_filename><div class="graphic"><dtml-if url><a href="<dtml-var url>" title="<dtml-var title_url>"></dtml-if><dtml-var img><dtml-if url></a></dtml-if></div></dtml-if
   ><dtml-if title_txt><div class="title"><dtml-if url><a href="<dtml-var url>" title="<dtml-var title_url>"></dtml-if><dtml-var title_txt><dtml-if url></a></dtml-if></div></dtml-if
    ><dtml-elif "displaytype=='right'"
    ><dtml-if img_filename><div class="graphic alignright"><dtml-if url><a href="<dtml-var url>" title="<dtml-var title_url>"></dtml-if><dtml-var img><dtml-if url></a></dtml-if></div></dtml-if
    ><dtml-if title_txt><div class="title"><dtml-if url><a href="<dtml-var url>" title="<dtml-var title_url>"></dtml-if><dtml-var title_txt><dtml-if url></a></dtml-if></div></dtml-if
    ><div class="clearfloating" style="clear:both">&nbsp;</div
   ><dtml-elif "displaytype=='bottom'"
    ><dtml-if title_txt><div class="title"><dtml-if url><a href="<dtml-var url>" title="<dtml-var title_url>"></dtml-if><dtml-var title_txt><dtml-if url></a></dtml-if></div></dtml-if
    ><dtml-if img_filename><div class="graphic"><dtml-if url><a href="<dtml-var url>" title="<dtml-var title_url>"></dtml-if><dtml-var img><dtml-if url></a></dtml-if></div></dtml-if
   ><dtml-elif "displaytype=='left'"
    ><dtml-if img_filename><div class="graphic alignleft"><dtml-if url><a href="<dtml-var url>" title="<dtml-var title_url>"></dtml-if><dtml-var img><dtml-if url></a></dtml-if></div></dtml-if
    ><dtml-if title_txt><div class="title"><dtml-if url><a href="<dtml-var url>" title="<dtml-var title_url>"></dtml-if><dtml-var title_txt><dtml-if url></a></dtml-if></div></dtml-if
    ><div class="clearfloating" style="clear:both">&nbsp;</div
   ></dtml-if
  ></dtml-let
 ></dtml-if

 ><dtml-comment>*** Abstract </dtml-comment
  ><dtml-if "len(abstract)+len(url)>0"
   ><div class="text"<dtml-if bgcolor_text> style="background-color:<dtml-var "get_colormap().get(bgcolor_text,'transparent')">"</dtml-if>
    ><dtml-var abstract
    ><dtml-if "len(abstract)>0 and len(url)>0"
     > <dtml-var "getLangStr('HREF_MORE',REQUEST['lang'])%(' href='+QUOT+url+QUOT+' title='+QUOT+title_url+QUOT)"
    ></dtml-if
   ></div
  ></dtml-if
 ></div
></dtml-let

><dtml-comment>--// EO pageelement_TeaserElement //--</dtml-comment>]]>
                  </item>
                  <item key="id"><![CDATA[pageelement_TeaserElement]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Template: Teaser-Element]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[DTML Method]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[<!-- bodyContentZMSCustom_ZMSTeaserElement -->

<span tal:omit-tag="" tal:define="global 
		zmscontext options/zmscontext;
		teaserCntnr     python:zmscontext.getParentNode();
		subclass        python:[teaserCntnr.meta_id];
		style           python:[];
		bgcolor_border  python:teaserCntnr.attr('attr_bgcolor_border');
		bgcolor_title   python:teaserCntnr.attr('attr_bgcolor_title');
		bgcolor_text    python:teaserCntnr.attr('attr_bgcolor_text')">
	<div tal:condition="python:request.get('URL','').find('/manage')>0" id="teaser">
		<span tal:omit-tag="" tal:condition="python:bgcolor_border">
			<span tal:omit-tag="" tal:define="global style python:style+['border: 1px solid '+zmscontext.get_colormap().get(bgcolor_border,'black')]"></span>
		</span>
		<div tal:attributes="class python:' '.join(subclass); style python:' '.join(style)" tal:content="structure python:zmscontext.pageelement_TeaserElement(zmscontext,request)">
			The teaser-element
		</div>
	</div>
	<div tal:condition="python:not (request.get('URL','').find('/manage')>0)" tal:attributes="class python:' '.join(subclass); style python:' '.join(style)" tal:content="structure python:zmscontext.pageelement_TeaserElement(zmscontext,request)">
		The teaser-element
	</div>
</span>

<!-- /bodyContentZMSCustom_ZMSTeaserElement -->]]>
                  </item>
                  <item key="id"><![CDATA[bodyContentZMSCustom_ZMSTeaserElement]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Template: ZMSTeaserElement]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[zpt]]></item>
                  <item key="zpt"><![CDATA[<ZopePageTemplate at ZMSTeaserElement.bodyContentZMSCustom_ZMSTeaserElement>]]></item>
                </dictionary>
              </item>
            </list>
          </item>
          <item key="access" type="dictionary">
            <dictionary>
              <item key="delete" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="delete_custom"></item>
              <item key="edit" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="edit_custom"></item>
              <item key="insert" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="insert_custom"><![CDATA[{$}]]></item>
            </dictionary>
          </item>
          <item key="enabled" type="int">1</item>
          <item key="id"><![CDATA[ZMSTeaserElement]]></item>
          <item key="name"><![CDATA[ZMSTeaserElement]]></item>
          <item key="package"><![CDATA[com.zms.foundation]]></item>
          <item key="revision"><![CDATA[1.1.0]]></item>
          <item key="type"><![CDATA[ZMSTeaserElement]]></item>
        </dictionary>
      </item>
    </dictionary>
  </item>
  <item type="dictionary">
    <dictionary>
      <item key="key"><![CDATA[ZMSTextarea]]></item>
      <item key="value" type="dictionary">
        <dictionary>
          <item key="__obj_attrs__" type="list">
            <list>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmstextarea_16x16.gif" type="file">47494638396110001000b300000402847784b4b5d5fc87a8d9d3e8fb62689754a6ecf8fcfc727aa6fc02fc91b9e9bcbec48498c8c6e0f9a4b8f8e7eff521f90401000009002c000000001000100003046a30b9416b45296777ba7f4f130c5aa278e8d12006a39dc722cf031204da901e602338988cee00281a0104024e887a109c84c64ac3e81c8dd260a2fa383c93529f3600ba16058231081a460b0a1a32614647c33308b6d46dd720a4513e7c6f7e088687880877258c8d0911003b</data>
                  </item>
                  <item key="id"><![CDATA[icon]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom">
                    <data content_type="image/gif" filename="zmstextarea_disabled_16x16.gif" type="file">47494638396110001000f700006666666b6b6b7373737b7b7bff00ff8181818c8c8c9d9d9da5a5a5bbbbbbcececed7d7d7dddddde3e3e3ebebebfafafa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000021f90401000004002c00000000100010000708900009244040b060c1020412264cf0a0a143070e161440a050a0c38b0f181438704021828609428a3c50a0a4478c0f203650900061c28f0f38cae4d8a0c10085072e4274509301839b0973c69cc9d12750020652eeecc9608102010a0d4024ca51c1d3a84b1bf8746a156ac2023c458ab51a4061819a5a9b5a5d5b36e1009f5bd7ae05a07080ddbb78edd2adc8b76fc280003b</data>
                  </item>
                  <item key="id"><![CDATA[icon_disabled]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Icon (Disabled)]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[resource]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="default"><![CDATA[<dtml-return "getTextFormatDefault()">]]></item>
                  <item key="id"><![CDATA[format]]></item>
                  <item key="mandatory" type="int">1</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Format]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[string]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[text]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">1</item>
                  <item key="name"><![CDATA[Text]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[richtext]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="id"><![CDATA[interface0]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[<script type="text/javascript">

function onZMSTextareaFormSubmit() {
	var b = true;
	if (self.btnClicked != getZMILangStr('BTN_CANCEL') &&
			self.btnClicked != getZMILangStr('BTN_BACK')) {
		var txt = '<xml>'+$('#text_'+getZMILang()).val().replace('&','')+'</xml>';
		if ( txt.indexOf( '<'+'dtml-') < 0) {
			try {
				if (window.DOMParser) {
					var parser=new DOMParser();
					var doc=parser.parseFromString(txt,"text/xml");
					if ( doc.childNodes[0].nodeName == 'parsererror') {
						b = confirm(getZMILangStr('CAPTION_WARNING')+'\n'+doc.childNodes[0].childNodes[0].nodeValue+'\n'+'getZMILangStr('MSG_CHANGE_ANYWAY')+'\n');
					}
				} else if (window.ActiveXObject) {
					var xmlDoc=new ActiveXObject("Microsoft.XMLDOM");
					xmlDoc.async="false";
					xmlDoc.loadXML(txt);
					if ( xmlDoc.childNodes.length == 0) {
						b = confirm(getZMILangStr('CAPTION_WARNING')+'\n'+'Invalid (X)HTML!\n'+'getZMILangStr('MSG_CHANGE_ANYWAY')+'\n');
					}
				}
			}
			catch(e) {
				alert(e.message);
			}
		}
	}
	if (!b) {
		return b;
	}
	return onFormSubmit('<dtml-var fmName>');
}

$(function() {
	$("form[name=<dtml-var fmName>]").submit( onZMSTextareaFormSubmit);
}

</script>]]>
                  </item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[interface]]></item>
                </dictionary>
              </item>
              <item type="dictionary">
                <dictionary>
                  <item key="custom"><![CDATA[<!-- bodyContentZMSCustom_ZMSTextarea -->

<span tal:omit-tag="" tal:define="global 
		zmscontext options/zmscontext;
		text          python:unicode(zmscontext.getText(request),'utf-8');
		format        python:unicode(zmscontext.attr('format'),'utf-8');
		renderedText  python:zmscontext.renderText(format,'text',text,request,zmscontext.id)">
	<span tal:omit-tag="" tal:content="structure renderedText">The text</span>
</span>

<!-- /bodyContentZMSCustom_ZMSTextarea -->]]>
                  </item>
                  <item key="id"><![CDATA[bodyContentZMSCustom_ZMSTextarea]]></item>
                  <item key="mandatory" type="int">0</item>
                  <item key="multilang" type="int">0</item>
                  <item key="name"><![CDATA[Template: ZMSTextarwa]]></item>
                  <item key="repetitive" type="int">0</item>
                  <item key="type"><![CDATA[zpt]]></item>
                  <item key="zpt"><![CDATA[<ZopePageTemplate at ZMSTextarea.bodyContentZMSCustom_ZMSTextarea>]]></item>
                </dictionary>
              </item>
            </list>
          </item>
          <item key="access" type="dictionary">
            <dictionary>
              <item key="delete" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="delete_custom"></item>
              <item key="edit" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="edit_custom"></item>
              <item key="insert" type="list">
                <list>
                  <item><![CDATA[ZMSAdministrator]]></item>
                  <item><![CDATA[ZMSAuthor]]></item>
                  <item><![CDATA[ZMSEditor]]></item>
                </list>
              </item>
              <item key="insert_custom"><![CDATA[{$}]]></item>
            </dictionary>
          </item>
          <item key="enabled" type="int">1</item>
          <item key="id"><![CDATA[ZMSTextarea]]></item>
          <item key="name"><![CDATA[ZMSTextarea]]></item>
          <item key="package"><![CDATA[com.zms.foundation]]></item>
          <item key="revision"><![CDATA[1.2.1]]></item>
          <item key="type"><![CDATA[ZMSObject]]></item>
        </dictionary>
      </item>
    </dictionary>
  </item>
  <item type="dictionary">
    <dictionary>
      <item key="key"><![CDATA[com.zms.foundation]]></item>
      <item key="value" type="dictionary">
        <dictionary>
          <item key="__obj_attrs__" type="list">
            <list>
            </list>
          </item>
          <item key="access" type="dictionary">
            <dictionary>
              <item key="delete" type="list">
                <list>
                </list>
              </item>
              <item key="delete_custom"></item>
              <item key="edit" type="list">
                <list>
                </list>
              </item>
              <item key="edit_custom"></item>
              <item key="insert" type="list">
                <list>
                </list>
              </item>
              <item key="insert_custom"></item>
            </dictionary>
          </item>
          <item key="enabled" type="int">0</item>
          <item key="id"><![CDATA[com.zms.foundation]]></item>
          <item key="name"><![CDATA[com.zms.foundation]]></item>
          <item key="package"></item>
          <item key="revision"><![CDATA[1.2.0]]></item>
          <item key="type"><![CDATA[ZMSPackage]]></item>
        </dictionary>
      </item>
    </dictionary>
  </item>
</list>